(function(){var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},ViewsData;ViewsData=function(_super){function ViewsData(t){if(null==t)throw new Error("The param p_data is null");this._data=[],this._views=t.views,ViewsData.__super__.constructor.apply(this,arguments)}return __extends(ViewsData,_super),ViewsData.VIEW_CREATED="view_created",ViewsData.ALL_VIEWS_CREATED="all_views_created",ViewsData.prototype.getData=function(t){if(null==this._views[t])throw new Error('The view with id "'+t+'" does not exists in config file');return this._views[t]},ViewsData.prototype.get=function(t){return null!=this._data[t]?this._data[t]:null},ViewsData.prototype.set=function(t){return this.get(t.id)||(this._data[t.id]=t),!1},ViewsData.prototype.createAll=function(){var t;for(t in this._views)this.create(t);return this.trigger(ViewsData.ALL_VIEWS_CREATED,{views:this._data}),!1},ViewsData.prototype.create=function(p_id){var data,k,klass,subview,v,view,_base,_ref;if(null!=this.get(p_id)?view=this.get(p_id):(data=this.getData(p_id),klass=eval(data["class"]),view=new klass(data,data.id+"-view")),null==view.parentView?(view.type="view",view.parentView=app.container,null==(_base=app.container).subviews&&(_base.subviews={}),app.container.subviews[view.id]=view):"string"==typeof view.parentView&&(view.parentView=this.get(view.parentView)),null!=view.subviews){_ref=view.subviews;for(k in _ref)v=_ref[k],subview=this.create(v.id),subview.type="subview",subview.parentView=view,view.subviews[v.id]=subview}return this.set(view),this.trigger(ViewsData.VIEW_CREATED,{view:view}),view},ViewsData.prototype.remove=function(t){return this._data[t]=null,delete this._data[t],!1},ViewsData.prototype.normalize=function(t){var e;return e=this._views[t],null!=(null!=e?e.parentView:void 0)?this.normalize(e.parentView):null!=e?e.id:void 0},ViewsData}(EventDispatcher);var BaseNavigationController;BaseNavigationController=function(t){function e(){this._removeFromWrapper=__bind(this._removeFromWrapper,this),this._appendToWrapper=__bind(this._appendToWrapper,this),this.change=__bind(this.change,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.CHANGE="base_navigation_controller_change",e.CHANGE_VIEW="base_navigation_controller_change_view",e.CHANGE_SUBVIEW="base_navigation_controller_change_subview",e.prototype.setup=function(t){var e,i;return this._views=new ViewsData(t),((null!=(e=app.navigation)?e.instantiateViews:void 0)||void 0===(null!=(i=app.navigation)?i.instantiateViews:void 0))&&this._views.createAll(),!1},e.prototype.start=function(t){var e,i;if(null==t&&(t=null),this._started)throw new Error("The instance of BaseNavigationController already started");if(this._started=!0,null==(null!=(i=app.config.navigation)?i.defaultView:void 0))throw new Error('The property "defaultView" in config file is null or undefined.');return e=t?t:app.config.navigation.defaultView,this.goto(e),!1},e.prototype.goto=function(t){if(!this._started)throw new Error("The instance of BaseNavigationController is not started");return this.change(t),!1},e.get({type:function(){throw new Error("Override the visibleViews getter in "+this.constructor.type+" class")}}),e.get({visibleViews:function(){throw new Error("Override the visibleViews getter in "+this.constructor.name+" class")}}),e.get({currentView:function(){throw new Error("Override the currentView getter in "+this.constructor.name+" class")}}),e.get({previousView:function(){throw new Error("Override the previousView getter in "+this.constructor.name+" class")}}),e.get({data:function(){throw new Error("Override the data getter in "+this.constructor.name+" class")}}),e.prototype.change=function(){return this.trigger(e.CHANGE_VIEW,{data:this.data}),!1},e.prototype._appendToWrapper=function(t){var e;if(e=t.parentView,null!=t.parentView.subviewsWrapper&&(e=null==t.attachToParentWrapper?t.parentView.subviewsWrapper:t.parentView.find(t.attachToParentWrapper)),null==e)throw new Error("The instance of wrapper is not attached on the parent view");return e.appendChild(t),!1},e.prototype._removeFromWrapper=function(t){var e,i;i=(null!=t?t.parent:void 0)||(null!=t?t.parentView:void 0);try{null!=i&&i.removeChild(t)}catch(n){e=n,console.log(e.stack)}return!1},e}(EventDispatcher);var DefaultNavigationController;DefaultNavigationController=function(t){function e(){this._destroyComplete=__bind(this._destroyComplete,this),this._hideNext=__bind(this._hideNext,this),this._hideComplete=__bind(this._hideComplete,this),this._hide=__bind(this._hide,this),this._hideAllCallback=__bind(this._hideAllCallback,this),this._showNext=__bind(this._showNext,this),this._showComplete=__bind(this._showComplete,this),this._show=__bind(this._show,this),this._create=__bind(this._create,this),this.change=__bind(this.change,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.HIDE_ALL_SUBVIEWS="navigation_controller_hide_all_subviews",e.SHOW_ALL_SUBVIEWS="navigation_controller_show_all_subviews",e.get({type:function(){return"default"}}),e.get({visibleViews:function(){return[this._currentView]}}),e.get({currentView:function(){return this._currentView}}),e.get({previousView:function(){return this._previousView}}),e.get({data:function(){return{currentView:this.currentView,previousView:this.previousView,visibleViews:this.visiblesViews}}}),e.prototype.change=function(t){var i;if((null!=(i=this._currentView)?i.id:void 0)!==t)return null!=this._currentView?(this._previousView=this._currentView,this._currentView=this._views.create(t),-1!==this._currentView.parentPath.indexOf(this._previousView.id)?(this.indexView=this._currentView.parentPath.indexOf(this._previousView.id)+1,this.maxIndexView=this._currentView.parentPath.length-1,this._create()):-1!==this._previousView.parentPath.indexOf(t)?(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1-(this._previousView.parentPath.indexOf(t)+1),this._hide()):-1!==this._currentView.parentPath.indexOf(this._previousView.parentView.id)?(this.indexView=0,this.maxIndexView=this._currentView.parentPath.indexOf(this._previousView.parentView.id),this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide()):-1!==this._previousView.parentPath.indexOf(this._currentView.parentView.id)?(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1-(this._previousView.parentPath.indexOf(this._currentView.parentView.id)+1),this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide()):(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1,this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide())):(this._currentView=this._views.create(t),this.indexView=0,this.maxIndexView=this._currentView.parentPath.length-1,this._create()),e.__super__.change.apply(this,arguments)},e.prototype._create=function(t){var e,i;return null==t&&(t=null),null!=t&&null!=(i=t.currentTarget)&&"function"==typeof i.off&&i.off(null!=t?t.type:void 0,this._create),e=this._views.create(this._currentView.parentPath[this.indexView]),this._appendToWrapper(e),e.created?this._show(e):(e.on(BaseView.CREATE_COMPLETE,this._show),e.createStart()),!1},e.prototype._show=function(t){var e;return null==t&&(t=null),e=null==t.currentTarget?t:t.currentTarget,e.off(BaseView.CREATE_COMPLETE,this._show),e.showed?this._showComplete(e):(e.on(BaseView.SHOW_COMPLETE,this._showComplete),e.showStart()),!1},e.prototype._showComplete=function(t){var e;return null==t&&(t=null),e=null==t.currentTarget?t:t.currentTarget,e.off(BaseView.SHOW_COMPLETE,this._showComplete),this._showNext(e),!1},e.prototype._showNext=function(t){return this.indexView<this.maxIndexView?(this.indexView++,this._create()):this.trigger(e.SHOW_ALL_SUBVIEWS),this.trigger(BaseNavigationController.CHANGE,{view:t,transition:"show"}),!1},e.prototype._hideAllCallback=function(t){var e;return null!=t&&null!=(e=t.currentTarget)&&"function"==typeof e.off&&e.off(null!=t?t.type:void 0,this._hideAllCallback),this.indexView=0,this.maxIndexView=this._currentView.parentPath.length-1,this._create(),!1},e.prototype._hide=function(t){var e,i;return null==t&&(t=null),null!=t&&null!=(i=t.currentTarget)&&"function"==typeof i.off&&i.off(null!=t?t.type:void 0,this._hide),e=this._views.create(this._previousView.reverseParentPath[this.indexView]),e.on(BaseView.HIDE_COMPLETE,this._hideComplete),e.hideStart(),!1},e.prototype._hideComplete=function(t){var e;return null==t&&(t=null),e=t.currentTarget,e.off(BaseView.HIDE_COMPLETE,this._hideComplete),e.destroyable?(e.on(BaseView.DESTROY_COMPLETE,this._destroyComplete),e.destroy()):(this._removeFromWrapper(e),this._hideNext(e)),!1},e.prototype._hideNext=function(t){return this.indexView<this.maxIndexView?(this.indexView++,this._hide()):this.trigger(e.HIDE_ALL_SUBVIEWS),this.trigger(BaseNavigationController.CHANGE,{view:t,transition:"hide"}),!1},e.prototype._destroyComplete=function(t){var e;return e=t.currentTarget,e.off(BaseView.DESTROY_COMPLETE,this._destroyComplete),this._removeFromWrapper(e),this._views.remove(e.id),this._hideNext(e),!1},e}(BaseNavigationController);var NavigationRouter;NavigationRouter=function(t){function e(){this._onPathChange=__bind(this._onPathChange,this),this._routes=[],this._numRoutes=0,this._trigger=!0,e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.CHANGE="route_path_change",e.CHANGE_ROUTE="route_match",e.prototype.setup=function(t,e){var i,n,r,s;if(null==t&&(t=null),null==e&&(e=!1),!t){t=window.location.href;try{i=document.getElementsByTagName("base"),i.length>0&&(i=i[0],t=i.getAttribute("href"))}catch(o){n=o,console.log(n.stack)}}return this._rootPath=t.replace(/^(.*?)\/*$/,"$1/"),this._rawPath="",this._usePushState=e?!1:null!=("undefined"!=typeof window&&null!==window&&null!=(s=window.history)?s.pushState:void 0),this._usePushState?(this._rootPath!==window.location.href&&(r=this._getPath(),this.goto(r,!1)),window.addEventListener?window.addEventListener("popstate",this._onPathChange):window.attachEvent("onpopstate",this._onPathChange)):(this._rootPath!==window.location.href&&(r=this._getPath(),window.location=this._rootPath+"#!/"+r),window.addEventListener?window.addEventListener("hashchange",this._onPathChange):window.attachEvent("onhashchange",this._onPathChange)),this._onPathChange(),this},e.prototype._getPath=function(){var t;return t=window.location.href.replace(/\/*$/g,""),0===t.indexOf(this._rootPath.replace(/\/*$/g,""))&&(t=t.substr(this._rootPath.length)),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1")},e.prototype._parsePath=function(t){var e,i,n;return n=/^(?:#?!?\/*)([^?]*)\??(.*?)$/.exec(t),i=n[1],e=this._parseParams(n[2]),{rawPath:t,path:i,params:e}},e.prototype._parseParams=function(t){var e,i,n,r;if(r={},t)for(n=/&?([^=&]+)=?([^=&]*)/g,e=0;i=n.exec(t);)r[i[1]]=i[2];return r},e.prototype._onPathChange=function(t){return null==t&&(t=null),this._currentPath=this._getPath(),this._trigger&&this._triggerPath(this._currentPath),this._trigger=!0,this._replaceData?(this.goto(this._replaceData[0],!1),this._replaceData=null):this.trigger(e.CHANGE,this._parsePath(this._currentPath)),!1},e.prototype._triggerPath=function(t){var i,n,r,s,o,a;if(n=this._parsePath(t),a=this._checkRoutes(n.path),o=a[0],s=a[1],o)for(i=o.length;i-->0;)r=o[i],this.trigger(e.CHANGE_ROUTE,{route:r.route,routeData:s,path:t,pathData:n,data:r.data});return!1},e.prototype.getCurrentPath=function(){return this._currentPath},e.prototype.getParsedPath=function(){return this._parsePath(this._currentPath)},e.prototype.goto=function(t,e){return null==e&&(e=!0),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),t!==this._currentPath?(this._currentPath=t,this._trigger=e,this._usePushState?(history.pushState({},t,this._rootPath+t),this._trigger&&this._onPathChange(),this._trigger=!0):window.location.hash="!/"+t,!1):void 0},e.prototype.replace=function(t,e){return null==e&&(e=!1),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),t!==this._currentPath&&(this._currentPath=t,this._usePushState?history.replaceState({},t,this._rootPath+t):(this._trigger=!1,history.back(),this._replaceData=[t])),e&&this.triggerPath(t),!1},e.prototype.triggerPath=function(t){return this._triggerPath(t),!1},e.prototype.triggerCurrentPath=function(){return this._triggerPath(this._getPath()),!1},e.prototype.addRoute=function(t,e){var i,n,r,s,o,a,h;if(null==e&&(e=null),"string"!=typeof t)for(n=t.length;n-->0;)this.addRoute(t[n],e);for(a=/\{(.*?)\}/g,r=[],o=0;s=a.exec(t);)r[o++]=s[1];a=t,"*"===a&&(a=".*");try{a=a.replace(/(.*?)\/*$/,"$1"),h=new RegExp("(?:"+a.replace(/\{.*?\}/g,"(.+?)")+"$)","g")}catch(u){return i=u,void console.log(i.stack)}return this._routes[this._numRoutes++]={data:e,route:t,routeRE:h,labels:r,numLabels:r.length,numSlashes:t.split("/").length},this._routes.sort(this._sortRoutes),!1},e.prototype.removeRoute=function(t){var e,i;for(e=this._numRoutes;e-->0;)i=this._routes[e],i.route===t&&this._routes.splice(e,1);return this._numRoutes=this._routes.length,!1},e.prototype.removeAllRoutes=function(){return this._routes.length=0,this._numRoutes=this._routes.length},e.prototype._checkRoutes=function(t){var e,i,n,r,s,o,a,h,u,l,p,_,c,d;for(n=this._numRoutes,i=null,e=null,u=[],l=0,t="/"+t;n-->0;){if(h=this._routes[n],i){if(h.route!==i)break;u[l++]=h}if(a=h.routeRE,a.lastIndex=0,o=a.exec(t))for(e={},u[l++]=h,i=h.route,d=h.labels,r=_=0,c=d.length;c>_;r=++_)s=d[r],p=o[r+1],e[s]=p}return[u,e]},e.prototype._sortRoutes=function(t,e){return t.numLabels<e.numLabels?-1:t.numLabels>e.numLabels?1:t.numSlashes<e.numSlashes?-1:t.numSlashes>e.numSlashes?1:t.route===e.route?0:t.route<e.route?-1:t.route>e.route?1:0},e.prototype._getParams=function(){var t,e,i,n,r;n=this._parsePath(this._currentPath),i=n.params;for(e in i){r=i[e],r=decodeURIComponent(r);try{t=JSON.parse(r),"string"!=typeof t&&(r=t)}catch(s){}i[e]=r}return i},e.prototype._setParams=function(t){var e,i,n,r,s;r=this._parsePath(this._currentPath),i=[];for(e in t){s=t[e];try{"string"!=typeof s&&(s=JSON.stringify(s))}catch(o){}i.push(e+"="+encodeURIComponent(s)),t[e]=s}return n=r.path,i.length>0&&(n=n+"?"+i.join("&")),this.replace(n)},e.prototype.getParam=function(t){var e;return e=this._getParams(),e[t]},e.prototype.setParam=function(t,e){var i;return i=this._getParams(),i[t]=e,this._setParams(i)},e.prototype.removeParam=function(t){var e;return e=this._getParams(),e[t]=null,delete e[t],this._setParams(e)},e}(EventDispatcher);var Navigation;Navigation=function(t){function e(t){if(null==t&&(t=null),this._change=__bind(this._change,this),this.getRouteByView=__bind(this.getRouteByView,this),this.getViewByRoute=__bind(this.getViewByRoute,this),this.gotoView=__bind(this.gotoView,this),this.gotoDefault=__bind(this.gotoDefault,this),this.replaceRoute=__bind(this.replaceRoute,this),this.gotoRoute=__bind(this.gotoRoute,this),this.setRoute=__bind(this.setRoute,this),this.goto=__bind(this.goto,this),this.start=__bind(this.start,this),this.setup=__bind(this.setup,this),!(t instanceof BaseNavigationController))throw new Error("The instance of "+t+" class is not either BaseNavigationController class");i=t,n=new NavigationRouter,app.navigation=this,e.__super__.constructor.apply(this,arguments)}var i,n;return __extends(e,t),e.CHANGE_ROUTE="navigation_change_route",e.CHANGE_VIEW="navigation_change_view",e.CHANGE_INTERNAL_VIEW="navigation_change_internal_view",i=null,n=null,e.prototype.setup=function(t){var e,r,s,o,a,h;i.on(BaseNavigationController.CHANGE,this._change),i.on(BaseNavigationController.CHANGE_VIEW,this._change),i.setup(t),n.on(NavigationRouter.CHANGE,this._change),n.on(NavigationRouter.CHANGE_ROUTE,this._change),n.setup(app.root,null!=(s=app.config.navigation)?s.forceHashBang:void 0),o=t.views;for(e in o)r=o[e],null!=r.route&&n.addRoute(r.route);return((null!=(a=app.config.navigation)?a.autoStart:void 0)||void 0===(null!=(h=app.config.navigation)?h.autoStart:void 0))&&this.start(),!1},e.prototype.start=function(t){var e,r,s,o;return null==t&&(t=null),o=null,r=n._parsePath(n.getCurrentPath()),s=n._checkRoutes(r.path)[0],s.length>0?(e=s[0].route,o=this.getViewByRoute(e)):o=null,i.start(o),!1},e.get({visibleViews:function(){return this._visibleViews||i.visibleViews}}),e.get({currentView:function(){var t;return t=this._currentView||i.currentView,t.routeData=this.routeData,t}}),e.get({previousView:function(){return this._previousView||i.previousView}}),e.get({routeData:function(){var t,e,i,r,s;return t=n._parsePath(n.getCurrentPath()),i=n._checkRoutes(t.path),e={},null!=i&&(e.raw=t.rawPath,e.params=t.params,e.route=null!=(r=i[0])&&null!=(s=r[0])?s.route:void 0,e.parsed=i[1]),e}}),e.get({router:function(){return n}}),e.get({controller:function(){return i}}),e.prototype.goto=function(){throw new Error("This method is already deprecated.")},e.prototype.setRoute=function(t,e){return null==e&&(e=!1),this.gotoRoute(t,e),!1},e.prototype.gotoRoute=function(t,e){if(null==e&&(e=!1),null!=t){if(0!==t.indexOf("/"))throw new Error('The value "'+t+'" is not a valid format to route ("/example")');return n.goto(t,e),!1}},e.prototype.replaceRoute=function(t,e){if(null==e&&(e=!1),null!=t){if(0!==t.indexOf("/"))throw new Error('The value "'+t+'" is not a valid format to route ("/example")');return n.replace(t,e),!1}},e.prototype.gotoDefault=function(t){var e,i;return null==t&&(t=!1),null!=(null!=(i=app.config.navigation)?i.defaultView:void 0)&&(e=app.config.navigation.defaultView,this.gotoRoute(this.getRouteByView(e),t)),!1},e.prototype.gotoView=function(t){if(0===t.indexOf("/"))throw new Error('The value "'+t+'" is not a valid format to viewID ("areaID")');return i.goto(t),!1},e.prototype.getViewByRoute=function(t){var e,i,n;n=app.config.views;for(e in n)if(i=n[e],null!=i.route&&i.route===t)return i.id;return null},e.prototype.getRouteByView=function(t){var e,i,n;n=app.config.views;for(e in n)if(i=n[e],null!=i.route&&i.id===t)return i.route;return null},e.prototype._change=function(t){switch(null==t&&(t=null),t.type){case BaseNavigationController.CHANGE_VIEW:return this._currentView=t.data.currentView,this._previousView=t.data.previousView,this._visibleViews=t.data.visibleViews,this.trigger(e.CHANGE_VIEW,{data:t.data});case BaseNavigationController.CHANGE:return this.trigger(e.CHANGE_INTERNAL_VIEW,{view:t.view,transition:t.transition});case NavigationRouter.CHANGE_ROUTE:if(this.trigger(e.CHANGE_ROUTE,{data:this.routeData}),null!=this.routeData.route)return this.gotoView(this.getViewByRoute(this.routeData.route))}},e}(EventDispatcher);var NavigationContainer;NavigationContainer=function(t){function e(){this.setupNavigation=__bind(this.setupNavigation,this),e.__super__.constructor.call(this,null,"nav-container"),this._id="main"}return __extends(e,t),e.prototype.setupNavigation=function(t){return this._navigation=new Navigation(this.controller),this._navigation.setup(t),!1},e.get({navigation:function(){return this._navigation}}),e.get({controller:function(){throw new Error("Override this method with a instance of BaseNavigationController.")}}),e}(BaseView);var Resizer;Resizer=function(t){function e(t){null==t&&(t=!0),this.change=__bind(this.change,this),this.stop=__bind(this.stop,this),this.start=__bind(this.start,this),i=document.querySelector("body"),n={top:0,bottom:0,left:0,right:0},null!=t&&this.start()}var i,n;return __extends(e,t),e.RESIZE="resize_resizer",e.ORIENTATION_CHANGE="orientation_change_resizer",e.BREAKPOINT_CHANGE="breakpoint_changed_resizer",n=null,i=null,e.getInstance=function(t){return null==t&&(t=!0),null!=e._instance?e._instance:e._instance=new e(t)},e.get({width:function(){return window.innerWidth}}),e.get({height:function(){return window.innerHeight}}),e.get({orientation:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}}),e.get({bounds:function(){return n}}),e.set({bounds:function(t){return n=t}}),e.prototype.start=function(){return window.addEventListener("resize",this.change),window.addEventListener("orientationchange",this.change),this.change()},e.prototype.stop=function(){return window.removeEventListener("resize",this.change),window.removeEventListener("orientationchange",this.change)},e.prototype.change=function(t){var i,n,r,s,o,a;if(null!=t&&t.preventDefault(),null!=t&&t.stopImmediatePropagation(),r={width:this.width,height:this.height,bounds:this.bounds,orientation:this.orientation},"resize"===(null!=t?t.type:void 0)&&this.trigger(e.RESIZE,r),"orientationchange"===(null!=t?t.type:void 0)&&this.trigger(e.ORIENTATION_CHANGE,r),null!=app.conditions){s=app.conditions.list;for(i in s)n=s[i],(null!=n.size||null!=n.orientation)&&(app.conditions.test(i)?this.hasClass(i)||this.addClass(i):this.hasClass(i)&&this.removeClass(i));o=app.conditions.list,a=[];for(i in o)if(n=o[i],null!=n.size||null!=n.orientation){if(app.conditions.test(i)){r.breakpoint={key:i,values:n},this.latestKey!==i&&(this.latestKey=i,this.trigger(e.BREAKPOINT_CHANGE,r));break}a.push(void 0)}else a.push(void 0);return a}},e.prototype.addClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),r=e.length,n=t.length;n-->0;)e.indexOf(t[n])>=0||(e[r++]=t[n]);return i.className=e.join(" "),!1},e.prototype.removeClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),n=t.length;n-->0;)(r=e.indexOf(t[n]))>=0&&e.splice(r,1);return i.className=e.join(" "),!1},e.prototype.hasClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),r=t.length,n=!0;r-->0;)n&=e.indexOf(t[r])>=0;return n},e}(EventDispatcher);var TemplateHomeView;TemplateHomeView=function(t){function e(t,i){null==t&&(t=null),null==i&&(i=null),this.destroy=__bind(this.destroy,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.click=__bind(this.click,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.call(this,t,"views")}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),this.background=new BaseDOM("div"),this.appendChild(this.background),this.background.className="background",this.background.css({height:"100%","background-color":"#"+Math.floor(16777215*Math.random()).toString(16)}),this.image=new BaseDOM({element:this.content.image.tag}),this.background.appendChild(this.image),this.background.element.on("click",this.click),e.__super__.createStart.apply(this,arguments)},e.prototype.click=function(t){return null==t&&(t=null),this.loader.loadFile(this.content.imageTest,!0)},e.prototype.create=function(t){return null==t&&(t=null),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),e.__super__.show.apply(this,arguments)},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),e.__super__.hide.apply(this,arguments)},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.image.destroy(),this.background.removeChild(this.image),this.image=null,this.background.destroy(),this.removeChild(this.background),this.background=null,e.__super__.destroy.apply(this,arguments)},e}(BaseView);var TemplateSubView;TemplateSubView=function(t){function e(t,i){null==t&&(t=null),null==i&&(i=null),this.destroy=__bind(this.destroy,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.call(this,t,"views")}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),this.background=new BaseDOM("div"),this.appendChild(this.background),this.background.className="background",this.background.css({height:"100%","background-color":"#"+Math.floor(16777215*Math.random()).toString(16)}),this.image=new BaseDOM({element:this.loader.getResult(this.content.image.src)}),this.background.appendChild(this.image),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){return null==t&&(t=null),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),e.__super__.show.apply(this,arguments)},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),e.__super__.hide.apply(this,arguments)},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.image.destroy(),this.background.removeChild(this.image),this.image=null,this.background.destroy(),this.removeChild(this.background),this.background=null,e.__super__.destroy.apply(this,arguments)},e}(BaseView);var Main;return new(Main=function(t){function e(){return this.create=__bind(this.create,this),e.__super__.constructor.apply(this,arguments)}var i,n;return __extends(e,t),n=new DefaultNavigationController,i=Resizer.getInstance(),e.prototype.create=function(t){var n,r,s,o;null==t&&(t=null),r=new BaseDOM,r.className="menu",this.appendChildAt(r,0),o=app.config.views;for(n in o)s=o[n],this.button=new BaseDOM,r.appendChild(this.button),this.button.className="menu-button",this.button.attr({id:s.id}),this.button.text=s.id,this.button.element.on("click",this.click);return i.on(Resizer.BREAKPOINT_CHANGE,this.change),e.__super__.create.apply(this,arguments)},e.prototype.change=function(t){return console.log(t)},e.prototype.click=function(t){var e;return e=app.config.views[t.srcElement.id].route,app.navigation.gotoRoute(e,!0)},e.get({controller:function(){return n}}),e}(NavigationContainer))}).call(this);