(function(){var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__indexOf=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1},__extends=function(t,e){function r(){this.constructor=t}for(var i in e)__hasProp.call(e,i)&&Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},EventDispatcher;EventDispatcher||(EventDispatcher=function(){function t(){this._triggerStacked=__bind(this._triggerStacked,this),this.trigger=__bind(this.trigger,this)}return t.prototype._events=null,t.prototype.on=function(t,e){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),__indexOf.call(this._events[t],e)>=0?void 0:this._events[t].unshift(e)},t.prototype.off=function(t,e){var r,i;if(null==t&&(t=null),null==e&&(e=null),!this._events)return void(this._events={});if(null!=t&&Boolean(this._events[t])){if(r=this._events[t],e){for(;(i=r.indexOf(e))>=0;)r.splice(i,1);return this._events[t]=r}return this._events[t].length=0}return this._events={}},t.prototype.trigger=function(t,e,r,i){var n,s,a,o,l,c,u,h;if(null==e&&(e=null),null==r&&(r=null),null==i&&(i=null),Array.isArray(t))for(c=0,u=t.length;u>c;c++)n=t[c],this.trigger(t,e);else if(this._events||(this._events={}),s=this._events[t],s&&0!==s.length){if(r||(r=this),n={type:t,target:r,currentTarget:this,originalEvent:i},null!=i&&(n.preventDefault=function(){return"function"==typeof i.preventDefault?i.preventDefault():void 0},n.stopPropagation=function(){return"function"==typeof i.stopPropagation?i.stopPropagation():void 0}),"object"==typeof e)for(o in e)l=e[o],n[o]||(n[o]=l);for(a=s.length,h=[];a-->0;)h.push("function"==typeof s[a]?s[a](n,e):void 0);return h}},t.prototype.hasEvent=function(t,e){var r;if(!this._events)return void(this._events={});for(r in this._events)if(r===t&&this._events[r].indexOf(e)>-1)return!0;return!1},t.prototype.stackTrigger=function(t,e,r){return null==e&&(e=null),null==r&&(r=null),this._stackTriggerer||(this._stackTriggerer=[]),this._stackTriggerer.push([t,e,r]),clearTimeout(this._stackTriggerTimeout),this._stackTriggerTimeout=setTimeout(this._triggerStacked,0)},t.prototype._triggerStacked=function(){var t,e;for(e=this._stackTriggerer.length,t=-1;++t<e;)this.trigger.apply(this,this._stackTriggerer[t]);return this._stackTriggerer.length=0},t}());var App,app,windowLoaded;App=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.project_version_raw="SL_PROJECT_VERSION:0.0.1",e.project_date_raw="SL_PROJECT_DATE:1478542963985",e.FRAMEWORK_VERSION="2.2.15",e.prototype.getInfo=function(){var t;return t={},t.versionRaw=void 0===e.project_version_raw||"undefined"===e.project_version_raw?"SL_PROJECT_VERSION:Not versioned":e.project_version_raw,t.version=t.versionRaw.replace("SL_PROJECT_VERSION:",""),t.lastUpdateRaw=void 0===e.project_date_raw||"undefined"===e.project_date_raw?"SL_PROJECT_DATE:Not versioned":e.project_date_raw,t.lastUpdate=new Date(parseFloat(t.lastUpdateRaw.replace("SL_PROJECT_DATE:",""))),t},e.prototype._checkWindowActivity=function(){var t,e,r,i;return this._hidden="hidden",t=this._hidden,__indexOf.call(document,t)>=0?document.addEventListener("visibilitychange",this._windowVisibilityChange):(e=this._hidden="mozHidden",__indexOf.call(document,e)>=0?document.addEventListener("mozvisibilitychange",this._windowVisibilityChange):(r=this._hidden="webkitHidden",__indexOf.call(document,r)>=0?document.addEventListener("webkitvisibilitychange",this._windowVisibilityChange):(i=this._hidden="msHidden",__indexOf.call(document,i)>=0?document.addEventListener("msvisibilitychange",this._windowVisibilityChange):__indexOf.call(document,"onfocusin")>=0?document.onfocusin=document.onfocusout=this._windowVisibilityChange:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this._windowVisibilityChange))),void 0!==document[this._hidden]?this._windowVisibilityChange.call(window,{type:document[this._hidden]?"blur":"focus"}):void 0},e.prototype._windowVisibilityChange=function(t){var e,r,i,n,s,a,o,l;o="visible",n="hidden",i={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0},t=t||window.event,l=t.type,s=__indexOf.call(i,l)>=0?i[t.type]:document[this._hidden],r=s?"windowInactive":"windowActive";try{return this.dispatchEvent(new Event(r))}catch(c){return e=c,a=document.createEvent("Event"),a.initEvent(r,!0,!0),this.dispatchEvent(a)}},e}(EventDispatcher),app||(app=new App),windowLoaded=function(){return function(){return window.remove?window.remove("load",windowLoaded):window.detachEvent?window.detachEvent("onload",windowLoaded):window.onload=null,app.trigger("windowLoad")}}(this),window.addEventListener?window.addEventListener("load",windowLoaded):window.attachEvent?window.attachEvent("onload",windowLoaded):window.onload=windowLoaded;var Debug,__slice=[].slice;Debug=function(){function Debug(){}return Debug.debug=!1,Debug.light=4764196,Debug.dark=2884445,Debug.init=function(){var c,err,re,t,_ref;Debug._console=window.console;try{Debug._log=Function.prototype.bind.call(null!=(_ref=Debug._console)?_ref.log:void 0,Debug._console)}catch(_error){err=_error}return null==window.Debug&&(window.Debug=Debug),Debug.check()||eval("window[Math.random()]()"),re=new RegExp(/debug=(1|true)/i),Debug.debug=re.test(window.location.search),re=new RegExp(/debug=(0|false)/i),Debug.debug||re.test(window.location.search)||(re=new RegExp(/([\.|\/]local\.|localhost|127\.0\.0\.1|192\.\d+\.\d+\.\d+|dev\.s\d+\.slikland\.)/i),Debug.debug=re.test(window.location.href)),Debug.debug&&window.console?(t="====================",t+="\n",t+="   DEBUG MODE ON",t+="\n",t+="--------------------",t+="\n",t+="Framework",t+="\n",t+="Version: "+App.FRAMEWORK_VERSION,t+="\n",t+="--------------------",t+="\n",t+="Project",t+="\n",t+="Version: "+app.getInfo().version,t+="\n",t+="Last update: "+app.getInfo().lastUpdate,t+="\n",t+="====================",c="color: #"+Math.floor(16777215*Math.random()).toString(16),console.log("%c"+t,c)):window.console={assert:function(){},clear:function(){},count:function(){},debug:function(){},dir:function(){},dirxml:function(){},error:function(){},exception:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},profile:function(){},profileEnd:function(){},table:function(){},time:function(){},timeEnd:function(){},timeStamp:function(){},trace:function(){},warn:function(){}},!1},Debug.check=function(t){var e,r,i,n;for(null==t&&(t=null),i="",e="",r=this.light;r>0;)e=String.fromCharCode(255&r)+e,r>>=8;for(i+=btoa(e),e="",r=this.dark;r>0;)e=String.fromCharCode(255&r)+e,r>>=8;return i+=btoa(e),n=i.toLowerCase(),t?n===t.toLowerCase():"s"===n.charAt(0)&&"l"===n.charAt(1)},Debug.log=function(){if(null!=Debug._log)return"function"==typeof Debug._log?Debug._log.apply(Debug,arguments):void 0;try{return console.log.apply(console,arguments)}catch(t){}},Debug.logTime=function(){var t,e,r,i,n,s;for(t=1<=arguments.length?__slice.call(arguments,0):[],n=(new Date).getTime(),this.itm||(this.itm=this.ctm=n),r=n-this.ctm,s=r.toString();s.length<6;)s=" "+s;for(e=s+"|",s=(this.ctm-this.itm).toString();s.length<6;)s=" "+s;return e+=s,e=["%c"+e+":"],i="font-weight: bold;",r>100?i+="color: red;":r>50&&(i+="color: orange;"),e.push(i),Debug.log.apply(this,[].concat(e,t)),this.ctm=n},Debug}(),window.atob||(window.atob=function(t){var e,r,i,n,s,a,o,l,c,u,h;for(l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=t.length,c=0,h="";u>c;)n=t.charAt(c),s=t.charAt(c+1),a=t.charAt(c+2),o=t.charAt(c+3),n=l.indexOf(n),s=l.indexOf(s),a=l.indexOf(a),o=l.indexOf(o),0>a&&(a=0),0>o&&(o=0),e=n<<2&255|s>>4,r=s<<4&255|a>>2,i=a<<6&255|63&o,h+=String.fromCharCode(e),h+=String.fromCharCode(r),h+=String.fromCharCode(i),c+=4;return h},window.btoa=function(t){var e,r,i,n,s,a,o,l,c,u,h;for(l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=t.length,c=0,h="";u>c;)e=255&t.charCodeAt(c+0),r=255&t.charCodeAt(c+1),i=255&t.charCodeAt(c+2),n=e>>2&63,s=63&(e<<4|r>>4),a=63&(r<<2|i>>6),o=63&i,h+=l.charAt(n)+l.charAt(s)+l.charAt(a)+l.charAt(o),c+=3;return c=u%3,u=h.length,1===c?h=h.substr(0,u-2)+"==":2===c&&(h=h.substr(0,u-1)+"="),h}),window.Debug=Debug,Debug.init();var isIE,__scopeIE8;isIE=function(){var t;return t=navigator.userAgent.toLowerCase(),-1!==t.indexOf("msie")?parseInt(t.split("msie")[1]):!1},8===isIE()&&(__scopeIE8=document.createElement("IE8_"+Math.random())),Function.prototype["const"]=function(t){var e,r,i,n;n=__scopeIE8?__scopeIE8:this;for(e in t)i=t[e],r={},r.get=function(){return i},r.set=function(){throw new Error("Can't set const "+e)},r.configurable=!0,r.enumerable=!0,Object.defineProperty(n,e,r);return null},Function.prototype.protectProperties=function(t){var e,r,i,n,s,a;for(console.warn("@protectProperties is an experimental feature. Use with caution."),t=[].concat(t),null==(n=this.prototype).___&&(n.___={}),i=__scopeIE8?__scopeIE8:this.prototype,s=0,a=t.length;a>s;s++)e=t[s],r={},r.get=function(){return this.___[e]},r.set=function(t){return this.___[e]=t},r.enumerable=!1,Object.defineProperty(i,e,r);return null},Function.prototype.get=function(t,e){var r,i,n,s;r=!1,e?(r=!0,s=t):(e=t,s=__scopeIE8?__scopeIE8:this.prototype);for(n in e)i=e[n],Object.defineProperty(s,n,{get:i,configurable:!0,enumerable:r});return null},Function.prototype.set=function(t,e){var r,i,n,s;r=!1,e?(r=!0,s=t):(e=t,s=__scopeIE8?__scopeIE8:this.prototype);for(i in e)n=e[i],Object.defineProperty(s,i,{set:n,configurable:!0,enumerable:r});return null},"bind"in Function.prototype||(Function.prototype.bind=function(t){var e,r;return r=this,arguments_.length<=1?function(){return r.apply(t,arguments_)}:(e=Array.prototype.slice.call(arguments_,1),function(){return r.apply(t,0===arguments_.length?e:e.concat(Array.prototype.slice.call(arguments_)))})}),"trim"in String.prototype||(String.prototype.trim=function(t){return null==t&&(t=null),this.ltrim(t).rtrim(t)}),String.prototype.ltrim=function(t){var e;return null==t&&(t=null),t||(t="\\s"),e=new RegExp("^"+t+"*"),e.global=!0,e.multiline=!0,this.replace(e,"")},String.prototype.rtrim=function(t){var e;return null==t&&(t=null),t||(t="\\s"),e=new RegExp(t+"*$"),e.global=!0,e.multiline=!0,this.replace(e,"")},String.prototype.padLeft=function(t,e){var r;for(null==e&&(e=" "),0===e.length&&(e=" "),r=this;r.length<t;)r=e+r;return r},String.prototype.padRight=function(t,e){var r;for(null==e&&(e=" "),0===e.length&&(e=" "),r=this;r.length<t;)r+=e;return r},"isArray"in Array.prototype||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){var r;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),r=this.length;r>e;){if(e in this&&this[e]===t)return e;e++}return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(t,e){for(void 0===e&&(e=this.length-1),0>e&&(e+=this.length),e>this.length-1&&(e=this.length-1),e++;e-->0;)if(e in this&&this[e]===t)return e;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(t,e){var r,i,n;for(r=0,i=this.length,n=[];i>r;)r in this&&t.call(e,this[r],r,this),n.push(r++);return n}),"map"in Array.prototype||(Array.prototype.map=function(t,e){var r,i,n;for(n=new Array(this.length),r=0,i=this.length;i>r;)r in this&&(n[r]=t.call(e,this[r],r,this)),r++;return n}),"filter"in Array.prototype||(Array.prototype.filter=function(t,e){var r,i,n,s;for(n=[],s=void 0,r=0,i=this.length;i>r;)r in this&&t.call(e,s=this[r],r,this)&&n.push(s),r++;return n}),"every"in Array.prototype||(Array.prototype.every=function(t,e){var r,i;for(r=0,i=this.length;i>r;){if(r in this&&!t.call(e,this[r],r,this))return!1;r++}return!0}),"some"in Array.prototype||(Array.prototype.some=function(t,e){var r,i;for(r=0,i=this.length;i>r;){if(r in this&&t.call(e,this[r],r,this))return!0;r++}return!1}),Node.prototype.on=Node.prototype.addEventListener,Node.prototype.off=Node.prototype.removeEventListener,null==navigator.mediaDevices&&(navigator.mediaDevices={}),navigator.getUserMedia=navigator.mediaDevices.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var NumberUtils;NumberUtils=function(){function t(){}return t.isEven=function(t){return t%2===0?!0:!1},t.isZero=function(t){return Math.abs(t)<1e-5},t.toPercent=function(t,e,r){return(t-e)/(r-e)*100},t.percentToValue=function(t,e,r){return(r-e)*t+e},t.getBytesAsMegabytes=function(t){return Math.floor(t/1024/1024*100)/100+" MB"},t.bytesTo=function(t){return t>=1e9?(t/1e9).toFixed(2)+" GB":t>=1e6?(t/1e6).toFixed(2)+" MB":t>=1e3?(t/1e3).toFixed(2)+" KB":t>1?t+" bytes":1===t?t+" byte":"0 byte"},t.rangeRandom=function(t,e,r){return null==r&&(r=!1),r?Math.round(Math.round(Math.random()*(e-t))+t):Math.random()*(e-t)+t},t.distanceBetweenCoordinates=function(t,e,r){var i,n,s,a,o;switch(null==r&&(r="km"),r){case"km":o=6371;break;case"meters":o=6378e3;break;case"feet":o=20925525;break;case"miles":o=3963}return s=(e.x-t.x)*Math.PI/180,a=(e.y-t.y)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(t.x*Math.PI/180)*Math.cos(e.x*Math.PI/180),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),o*n},t}();var ArrayUtils;ArrayUtils=function(){function t(){}return t.removeItem=function(t,e,r){var i,n,s,a,o;for(null==r&&(r=!1),n=r?t.slice(0):t,s=a=0,o=n.length;o>a;s=++a)i=n[s],i===e&&n.splice(s,1);return n},t.removeItemByIndex=function(t,e,r){var i;return null==r&&(r=!1),i=r?e.slice(0):e,i.splice(t,1),i},t.removeDuplicateStrings=function(t,e){return null==e&&(e=!1),t.filter(function(t,e,r){return r.indexOf(t)===e})},t.hasItem=function(t,e){return e.indexOf(t)>-1},t.merge=function(t,e){var r,i,n;for(r=0,i=0,n=[];r<t.length||i<e.length;)r<t.length&&(n.push(t[r]),r++),i<e.length&&(n.push(e[i]),i++);return n},t.randomIndex=function(t){return NumberUtils.rangeRandom(0,t.length-1,!0)},t.randomItem=function(e){return e[t.randomIndex(e)]},t.shuffle=function(t,e){var r,i,n,s,a,o,l;for(null==e&&(e=!1),s=e?t.slice(0):t,r=o=0,l=s.length;l>o;r=++o)i=s[r],n=Math.floor(Math.random()*s.length),a=s[r],s[r]=s[n],s[n]=a;return s},t.move=function(t,e,r,i){var n,s;if(null==i&&(i=!1),s=i?t.slice(0):t,r>=s.length)for(n=new_index-s.length;n--+1;)s.push(void 0);return s.splice(r,0,s.splice(e,1)[0]),s},t.fromMiddleToEnd=function(t){var e,r,i,n,s;return i=t.length,s=Math.floor(.5*i),e=t.slice(s,i),r=t.slice(0,s).reverse(),n=this.merge(e,r)},t.fromEndToMiddle=function(t){return this.fromMiddleToEnd(t).reverse()},t.lastIndexOf=function(t,e){var r,i,n;for(r=0,n=t.length,i=-1;r!==n;)t[r]===e&&(i=r),r++;return i},t}();var ObjectUtils;ObjectUtils=function(){function t(){}return t.count=function(t){var e,r;r=0;for(e in t)r++;return r},t.toArray=function(t){var e,r,i;r=[];for(e in t)i=t[e],r.push(t[e]);return r},t.merge=function(t,e){var r;if("object"==typeof t&&"object"==typeof e)for(r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t},t.clone=function(t){var e,r,i,n,s,a;try{if(!t||"object"!=typeof t)return t;if(e=null,t instanceof Array){for(e=[],i=0,s=t.length;s>i;)e[i]=this.clone(t[i]),i++;return e}if(t instanceof Object){e={};for(n in t)a=t[n],e[n]="object"!==a?a:this.clone(a);return e}}catch(o){return r=o,JSON.parse(JSON.stringify(t))}},t.hasSameKey=function(t,e){return Object.getOwnPropertyNames(t)[0]===Object.getOwnPropertyNames(e)[0]?!0:!1},t.isEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.parseLinkedArray=function(t){var e,r,i,n,s,a,o;if(!t||t&&t.length<1)return[];for(e=t.length,n=t[0],s=n.length,o=[];e-->1;){for(a={},i=s,r=t[e];i-->0;)a[n[i]]=r[i];o[e-1]=a}return o},t}();var StringUtils,__slice=[].slice;StringUtils=function(){function t(){}return t.hasString=function(t,e){return 1!==t.split(e).length?!0:!1},t.replace=function(t,e,r){return t.split(e).join(r)},t.reverse=function(t){return t?t.split("").reverse().join(""):""},t.toCamelCase=function(t){var e;return e=t.replace(/([\+\-_ ][a-z])/g,function(t){return t.toUpperCase().replace(/[\+\-_ ]/,"")}),e.charAt(0).toUpperCase()+e.slice(1)},t.removeWhiteSpace=function(t){return t?this.trim(t).replace(/\s+/g,""):""},t.removeHTMLTag=function(t){return t.replace(/<.*?>/g,"")},t.removeSpecialChars=function(t){return t.replace(/[^a-zA-Z 0-9]+/g,"")},t.convertToCPF=function(t){return t=this.removeSpecialChars(t),t=t.length>9?t.replace(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,"$1.$2.$3-$4"):t.length>6?t.replace(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,"$1.$2.$3"):t.length>3?t.replace(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,"$1.$2"):t.replace(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/,"$1")},t.convertToCEP=function(t){return t=this.removeSpecialChars(t),t=t.length>5?t.replace(/(\d{0,5})(\d{0,3})/,"$1-$2"):t.replace(/(\d{0,5})(\d{0,3})/,"$1")},t.convertToDate=function(t){return t=this.removeSpecialChars(t),t=t.length>4?t.replace(/(\d{0,2})(\d{0,2})(\d{0,4})/,"$1/$2/$3"):t.length>2?t.replace(/(\d{0,2})(\d{0,2})(\d{0,4})/,"$1/$2"):t.replace(/(\d{0,2})(\d{0,2})(\d{0,4})/,"$1")},t.isEmpty=function(t){return t&&""!==t?!1:!0},t.toCapitalizeCase=function(t){var e;return e=this.trimLeft(t),e.replace(/(^\w)/,this._upperCase)},t.toTimeFormat=function(t,e){var r,i;return null==e&&(e=!0),r=Math.floor(t/60),i=Math.floor(t%60),String(e?this.addDecimalZero(r)+":"+this.addDecimalZero(i):r+":"+i)},t.addDecimalZero=function(t){return 10>t?"0"+t:String(t)},t.abbreviate=function(t,e,r,i){var n,s,a,o,l;if(null==e&&(e=50),null==r&&(r="..."),null==i&&(i=" "),!t)return"";if(t.length<e)return t;for(l="",a=0,o=t.split(i),s=o[a].length;e>s&&a<o.length;)l+=o[a]+i,s+=o[++a].length+i.length;if(a<o.length){for(n=["-","—",",","."," ",":","?","!","","\n"," ",String.fromCharCode(10),String.fromCharCode(13)];-1!==n.indexOf(l.charAt(l.length-1));)l=l.slice(0,-1);l=this.trim(l)+r}return 0===a&&(l=t.slice(0,e)+r),l},t.toBoolean=function(t){var e;return e=["yes","true","1",1,!0],t&&ArrayUtils.hasItem(t,e)?!0:!1},t.random=function(t){var e,r,i;for(null==t&&(t=10),r="",e=i=t;1>=t?1>=i:i>=1;e=1>=t?++i:--i)r+=String.fromCharCode(65+Math.floor(25*Math.random()));return r},t.trim=function(t,e){return null===t?"":this.trimRight(this.trimLeft(t,e),e)},t.trimRight=function(t,e){var r;return t?(r=new RegExp(e+"*$"),r.global=!0,r.multiline=!0,t.replace(r,"")):""},t.trimLeft=function(t,e){var r;return t?(r=new RegExp("^"+e+"*"),r.global=!0,r.multiline=!0,t.replace(r,"")):""},t.replaceSpecialCharacters=function(t){var e,r;this.substitionDict||this._initDict();for(e in this.substitionDict)console.log(e),r=new RegExp(e,"g"),t=t.replace(r,this.substitionDict[e]);return t},t._upperCase=function(){var t,e;return e=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],e.toUpperCase()},t.substitionDict=null,t._initDict=function(){var t,e;this.substitionDict=[],this.substitionDict["ã"]="a",this.substitionDict["á"]="a",this.substitionDict["â"]="a",this.substitionDict["ä"]="a",this.substitionDict["à"]="a",this.substitionDict["é"]="e",this.substitionDict["ê"]="e",this.substitionDict["ë"]="e",this.substitionDict["è"]="e",this.substitionDict["í"]="i",this.substitionDict["î"]="i",this.substitionDict["ï"]="i",this.substitionDict["ì"]="i",this.substitionDict["õ"]="o",this.substitionDict["ó"]="o",this.substitionDict["ô"]="o",this.substitionDict["ö"]="o",this.substitionDict["ò"]="o",this.substitionDict["ú"]="u",this.substitionDict["û"]="u",this.substitionDict["ü"]="u",this.substitionDict["ù"]="u",this.substitionDict["ç"]="c",this.substitionDict["ñ"]="n",e=[];for(t in this.substitionDict)e.push(this.substitionDict[t.toUpperCase()]=String(this.substitionDict[t]).toUpperCase());return e},t}();var JSONUtils;JSONUtils=function(){function t(){}return t.parseJSON=function(e){var r;return r=!1,"string"==typeof e&&(r=!0,e=t.replaceMultiline(e)),e=t.removeComments(e),r&&(e=JSON.parse(e)),e},t.replaceMultiline=function(t){return"string"!=typeof t?t:(t=t.replace(/^(\s*.*?""")(?:[\s\t]*\n)?([\t\s]*)(\S[\s\S]*)\n?[\s]*(""")/gim,this._replaceMultilinePart),t=t.replace(/^(\s*.*?)"""([\s\S]*?)"""/gim,this._replaceEmptyMultiline))},t._replaceMultilinePart=function(t,e,r,i,n){var s;return s=new RegExp(r+"?([^\n]*)","g"),i=i.replace(s,"$1"),e+i+n},t._replaceEmptyMultiline=function(t,e,r){return r=r.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"),e+'"'+r+'"'},t.removeComments=function(t){var e;return e=!0,"string"!=typeof t&&(e=!1,t=JSON.stringify(t)),t=t.replace(/(^|\s)(\/\/.*$)|(\/\*(.|\s)*?\*\/?)/gim,""),e?t:JSON.parse(t)},t.filterObject=function(t,e,r,i,n){var s,a,o,l;null==r&&(r=null),null==i&&(i=null),null==n&&(n=!1),o=[],e=[].concat(e),i&&(i=[].concat(i));for(a in t)l=t[a],i&&i.indexOf(a)>=0||(e.indexOf(a)>=0&&(s=!0,r&&typeof l!==r&&(s=!1),s&&(n?o.indexOf(t)<0&&o.push(t):o.push(l))),("array"==typeof l||"object"==typeof l)&&(o=[].concat(o,this.filterObject(l,e,r,i,n))));return o},t}();var Detections;Detections=function(){function t(){var t,n,s;this.matched=null,this.ua=("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)||"",this.platform=this.os=("undefined"!=typeof navigator&&null!==navigator?navigator.platform:void 0)||"",this.version=e(/version\/(\d+(\.\d+)*)/i,this.ua),this.getBrowser(),this.versionArr=null==this.version?[]:this.version.split("."),s=this.versionArr;for(t in s)n=s[t],this.versionArr[t]=Number(n);this.orientation=("undefined"!=typeof window&&null!==window?window.innerWidth:void 0)>("undefined"!=typeof window&&null!==window?window.innerHeight:void 0)?"landscape":"portrait",this.touch=__indexOf.call(window,"ontouchstart")>=0||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this.tablet=/(ipad.*|tablet(?!\s+pc).*|(android.*?chrome((?!mobi).)*))$/i.test(this.ua),this.mobile=!this.tablet&&Boolean(e(/(ipod|iphone|ipad)/i,this.ua)||/[^-]mobi/i.test(this.ua)),this.desktop=!this.mobile&&!this.tablet,this.canvas=r(),this.webgl=i()}var e,r,i;return t.prototype.matches=[{name:"Opera",nick:/opera/i,test:/opera|opr/i,version:/(?:opera|opr)[\s\/](\d+(\.\d+)*)/i},{name:"Windows Phone",nick:/WindowsPhone/i,test:/windows phone/i,version:/iemobile\/(\d+(\.\d+)*)/i},{name:"Edge",nick:/edge|edgehtml/i,test:/edge|msapphost|edgehtml/i,version:/(?:edge|edgehtml)\/(\d+(\.\d+)*)/i},{name:"Internet Explorer",nick:/explorer|internetexplorer|ie/i,test:/msie|trident/i,version:/(?:msie |rv:)(\d+(\.\d+)*)/i},{name:"Chrome",nick:/Chrome/i,test:/chrome|crios|crmo/i,version:/(?:chrome|crios|crmo)\/(\d+(\.\d+)*)/i},{name:"iPod",nick:/iPod/i,test:/ipod/i},{name:"iPhone",nick:/iPhone/i,test:/iphone/i},{name:"iPad",nick:/iPad/i,test:/ipad/i},{name:"FirefoxOS",nick:/FirefoxOS|ffos/i,test:/\((mobile|tablet);[^\)]*rv:[\d\.]+\)firefox|iceweasel/i,version:/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i},{name:"Firefox",nick:/Firefox|ff/i,test:/firefox|iceweasel/i,version:/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i},{name:"Android",nick:/Android/i,test:/android/i},{name:"BlackBerry",nick:/BlackBerry/i,test:/(blackberry)|(\bbb)|(rim\stablet)\d+/i,version:/blackberry[\d]+\/(\d+(\.\d+)?)/i},{name:"WebOS",nick:/WebOS/i,test:/(web|hpw)os/i,version:/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i},{name:"Safari",nick:/safari/i,test:/safari/i}],t.getInstance=function(){return null!=t._instance?t._instance:t._instance=function(t,e,r){r.prototype=t.prototype;var i=new r,n=t.apply(i,e);return Object(n)===n?n:i}(t,arguments,function(){})},t.prototype.test=function(t){var e,r,i,n,s,a,o;if(!this.matched)return 0;if(!(i=t.match(/(?:(?:(\D.*?)(?:\s|$))?(\D.*?)(?:\s|$))?(?:([\d\.]+))?/)))return 0;if(n=0,i[1]){if(!new RegExp(i[1],"i").test(this.os))return 0;n=1}if(i[2]){if(null!=(o=this.matched.nick)?!o.test(i[2]):!0)return 0;n=1}if(i[3])for(s=i[3].split("."),r=s.length,r>this.versionArr.length&&(r=this.versionArr.length),e=a=0;r>=0?r>=a:a>=r;e=r>=0?++a:--a){if(this.versionArr[e]>s[e])return 2;if(this.versionArr[e]<s[e])return-1}return n},t.prototype.getBrowser=function(){var t,r,i,n;for(n=this.matches,r=0,i=n.length;i>r;r++)if(t=n[r],t.test.test(this.ua)){this.name=t.name,this.version=this.version||e(t.version,this.ua),this.matched=t;break}return[this.name,this.version]},i=function(){var t;try{return!!window.WebGLRenderingContext&&Boolean(document.createElement("canvas").getContext("webgl"))||Boolean(document.createElement("canvas").getContext("experimental-webgl"))}catch(e){return t=e,!1}},r=function(){var t;try{return!!window.CanvasRenderingContext2D&&Boolean(document.createElement("canvas").getContext("2d"))}catch(e){return t=e,!1}},e=function(t,e){var r;return r=e.match(t),r&&r.length>1&&r[1]||null},t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var r=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(i){r[(e+="_")+"constructor"]=i.constructor;for(var n in i)r.hasOwnProperty(n)&&"function"==typeof i[n]&&(r[e+n]=i[n])}return t},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var r=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(r))}}}(),this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var r=0,i=t.length;i>r;r++)if(e===t[r])return r;return-1},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.Event_constructor("error"),this.title=t,this.message=e,this.data=r}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,r){var i;i=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var n=i[t];return n&&this.removeEventListener(t,e,r),n=i[t],n?n.push(e):i[t]=[e],e},e.on=function(t,e,r,i,n,s){return e.handleEvent&&(r=r||e,e=e.handleEvent),r=r||this,this.addEventListener(t,function(t){e.call(r,t,n),i&&t.remove()},s)},e.removeEventListener=function(t,e,r){var i=r?this._captureListeners:this._listeners;if(i){var n=i[t];if(n)for(var s=0,a=n.length;a>s;s++)if(n[s]==e){1==a?delete i[t]:n.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,r){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,r)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(n){}if(t.bubbles&&this.parent){for(var s=this,a=[s];s.parent;)a.push(s=s.parent);var o,l=a.length;for(o=l-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;l>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,r=this._captureListeners;return!!(e&&e[t]||r&&r[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var r,i=1==e?this._captureListeners:this._listeners;if(t&&i){var n=i[t.type];if(!n||!(r=n.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,n=n.slice();for(var a=0;r>a&&!t.immediatePropagationStopped;a++){var o=n[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),function(){function t(e,i){function s(t){if(s[t]!==g)return s[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=s("json-stringify")&&s("json-parse");else{var r,n='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l=i.stringify,u="function"==typeof l&&y;if(u){(r=function(){return 1}).toJSON=r;try{u="0"===l(0)&&"0"===l(new a)&&'""'==l(new o)&&l(v)===g&&l(g)===g&&l()===g&&"1"===l(r)&&"[1]"==l([r])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,v,null])&&l({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==n&&"1"===l(null,r)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(h){u=!1}}e=u}if("json-parse"==t){var d=i.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){r=d(n);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!d('"	"')}catch(h){}if(p)try{p=1!==d("01")}catch(h){}if(p)try{p=1!==d("1.")}catch(h){}}}}catch(h){p=!1}e=p}}return s[t]=!!e}e||(e=n.Object()),i||(i=n.Object());var a=e.Number||n.Number,o=e.String||n.String,l=e.Object||n.Object,c=e.Date||n.Date,u=e.SyntaxError||n.SyntaxError,h=e.TypeError||n.TypeError,d=e.Math||n.Math,p=e.JSON||n.JSON;"object"==typeof p&&p&&(i.stringify=p.stringify,i.parse=p.parse);var _,f,g,m=l.prototype,v=m.toString,y=new c(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(b){}if(!s("json")){var L="[object Function]",E="[object Date]",w="[object Number]",j="[object String]",T="[object Array]",S="[object Boolean]",A=s("bug-string-char-index");if(!y)var R=d.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],O=function(t,e){return C[e]+365*(t-1970)+R((t-1969+(e=+(e>1)))/4)-R((t-1901+e)/100)+R((t-1601+e)/400)};if((_=m.hasOwnProperty)||(_=function(t){var e,r={};return(r.__proto__=null,r.__proto__={toString:1},r).toString!=v?_=function(t){var e=this.__proto__,r=t in(this.__proto__=null,this);return this.__proto__=e,r}:(e=r.constructor,_=function(t){var r=(this.constructor||e).prototype;return t in this&&!(t in r&&this[t]===r[t])}),r=null,_.call(this,t)}),f=function(t,e){var i,n,s,a=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,n=new i;for(s in n)_.call(n,s)&&a++;return i=n=null,a?f=2==a?function(t,e){var r,i={},n=v.call(t)==L;for(r in t)n&&"prototype"==r||_.call(i,r)||!(i[r]=1)||!_.call(t,r)||e(r)
}:function(t,e){var r,i,n=v.call(t)==L;for(r in t)n&&"prototype"==r||!_.call(t,r)||(i="constructor"===r)||e(r);(i||_.call(t,r="constructor"))&&e(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(t,e){var i,s,a=v.call(t)==L,o=!a&&"function"!=typeof t.constructor&&r[typeof t.hasOwnProperty]&&t.hasOwnProperty||_;for(i in t)a&&"prototype"==i||!o.call(t,i)||e(i);for(s=n.length;i=n[--s];o.call(t,i)&&e(i));}),f(t,e)},!s("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",x=function(t,e){return(I+(e||0)).slice(-t)},M="\\u00",N=function(t){for(var e='"',r=0,i=t.length,n=!A||i>10,s=n&&(A?t.split(""):t);i>r;r++){var a=t.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=P[a];break;default:if(32>a){e+=M+x(2,a.toString(16));break}e+=n?s[r]:t.charAt(r)}}return e+'"'},D=function(t,e,r,i,n,s,a){var o,l,c,u,d,p,m,y,b,L,A,C,P,I,M,q;try{o=e[t]}catch(V){}if("object"==typeof o&&o)if(l=v.call(o),l!=E||_.call(o,"toJSON"))"function"==typeof o.toJSON&&(l!=w&&l!=j&&l!=T||_.call(o,"toJSON"))&&(o=o.toJSON(t));else if(o>-1/0&&1/0>o){if(O){for(d=R(o/864e5),c=R(d/365.2425)+1970-1;O(c+1,0)<=d;c++);for(u=R((d-O(c,0))/30.42);O(c,u+1)<=d;u++);d=1+d-O(c,u),p=(o%864e5+864e5)%864e5,m=R(p/36e5)%24,y=R(p/6e4)%60,b=R(p/1e3)%60,L=p%1e3}else c=o.getUTCFullYear(),u=o.getUTCMonth(),d=o.getUTCDate(),m=o.getUTCHours(),y=o.getUTCMinutes(),b=o.getUTCSeconds(),L=o.getUTCMilliseconds();o=(0>=c||c>=1e4?(0>c?"-":"+")+x(6,0>c?-c:c):x(4,c))+"-"+x(2,u+1)+"-"+x(2,d)+"T"+x(2,m)+":"+x(2,y)+":"+x(2,b)+"."+x(3,L)+"Z"}else o=null;if(r&&(o=r.call(e,t,o)),null===o)return"null";if(l=v.call(o),l==S)return""+o;if(l==w)return o>-1/0&&1/0>o?""+o:"null";if(l==j)return N(""+o);if("object"==typeof o){for(I=a.length;I--;)if(a[I]===o)throw h();if(a.push(o),A=[],M=s,s+=n,l==T){for(P=0,I=o.length;I>P;P++)C=D(P,o,r,i,n,s,a),A.push(C===g?"null":C);q=A.length?n?"[\n"+s+A.join(",\n"+s)+"\n"+M+"]":"["+A.join(",")+"]":"[]"}else f(i||o,function(t){var e=D(t,o,r,i,n,s,a);e!==g&&A.push(N(t)+":"+(n?" ":"")+e)}),q=A.length?n?"{\n"+s+A.join(",\n"+s)+"\n"+M+"}":"{"+A.join(",")+"}":"{}";return a.pop(),q}};i.stringify=function(t,e,i){var n,s,a,o;if(r[typeof e]&&e)if((o=v.call(e))==L)s=e;else if(o==T){a={};for(var l,c=0,u=e.length;u>c;l=e[c++],o=v.call(l),(o==j||o==w)&&(a[l]=1));}if(i)if((o=v.call(i))==w){if((i-=i%1)>0)for(n="",i>10&&(i=10);n.length<i;n+=" ");}else o==j&&(n=i.length<=10?i:i.slice(0,10));return D("",(l={},l[""]=t,l),s,a,n,"",[])}}if(!s("json-parse")){var q,V,k=o.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},F=function(){throw q=V=null,u()},B=function(){for(var t,e,r,i,n,s=V,a=s.length;a>q;)switch(n=s.charCodeAt(q)){case 9:case 10:case 13:case 32:q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=A?s.charAt(q):s[q],q++,t;case 34:for(t="@",q++;a>q;)if(n=s.charCodeAt(q),32>n)F();else if(92==n)switch(n=s.charCodeAt(++q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=U[n],q++;break;case 117:for(e=++q,r=q+4;r>q;q++)n=s.charCodeAt(q),n>=48&&57>=n||n>=97&&102>=n||n>=65&&70>=n||F();t+=k("0x"+s.slice(e,q));break;default:F()}else{if(34==n)break;for(n=s.charCodeAt(q),e=q;n>=32&&92!=n&&34!=n;)n=s.charCodeAt(++q);t+=s.slice(e,q)}if(34==s.charCodeAt(q))return q++,t;F();default:if(e=q,45==n&&(i=!0,n=s.charCodeAt(++q)),n>=48&&57>=n){for(48==n&&(n=s.charCodeAt(q+1),n>=48&&57>=n)&&F(),i=!1;a>q&&(n=s.charCodeAt(q),n>=48&&57>=n);q++);if(46==s.charCodeAt(q)){for(r=++q;a>r&&(n=s.charCodeAt(r),n>=48&&57>=n);r++);r==q&&F(),q=r}if(n=s.charCodeAt(q),101==n||69==n){for(n=s.charCodeAt(++q),(43==n||45==n)&&q++,r=q;a>r&&(n=s.charCodeAt(r),n>=48&&57>=n);r++);r==q&&F(),q=r}return+s.slice(e,q)}if(i&&F(),"true"==s.slice(q,q+4))return q+=4,!0;if("false"==s.slice(q,q+5))return q+=5,!1;if("null"==s.slice(q,q+4))return q+=4,null;F()}return"$"},H=function(t){var e,r;if("$"==t&&F(),"string"==typeof t){if("@"==(A?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=B(),"]"!=t;r||(r=!0))r&&(","==t?(t=B(),"]"==t&&F()):F()),","==t&&F(),e.push(H(t));return e}if("{"==t){for(e={};t=B(),"}"!=t;r||(r=!0))r&&(","==t?(t=B(),"}"==t&&F()):F()),(","==t||"string"!=typeof t||"@"!=(A?t.charAt(0):t[0])||":"!=B())&&F(),e[t.slice(1)]=H(B());return e}F()}return t},X=function(t,e,r){var i=J(t,e,r);i===g?delete t[e]:t[e]=i},J=function(t,e,r){var i,n=t[e];if("object"==typeof n&&n)if(v.call(n)==T)for(i=n.length;i--;)X(n,i,r);else f(n,function(t){X(n,t,r)});return r.call(t,e,n)};i.parse=function(t,e){var r,i;return q=0,V=""+t,r=H(B()),"$"!=B()&&F(),q=V=null,e&&v.call(e)==L?J((i={},i[""]=r,i),"",e):r}}}return i.runInContext=t,i}var e="function"==typeof define&&define.amd,r={"function":!0,object:!0},i=r[typeof exports]&&exports&&!exports.nodeType&&exports,n=r[typeof window]&&window||this,s=i&&r[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!s||s.global!==s&&s.window!==s&&s.self!==s||(n=s),i&&!e)t(n,i);else{var a=n.JSON,o=n.JSON3,l=!1,c=t(n,n.JSON3={noConflict:function(){return l||(l=!0,n.JSON=a,n.JSON3=o,a=o=null),c}});n.JSON={parse:c.parse,stringify:c.stringify}}e&&define(function(){return c})}.call(this),function(){var t={};t.appendToHead=function(e){t.getHead().appendChild(e)},t.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},t.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=t}(),function(){var t={};t.parseXML=function(t,e){var r=null;try{if(window.DOMParser){var i=new DOMParser;r=i.parseFromString(t,e)}}catch(n){}if(!r)try{r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(t)}catch(n){r=null}return r},t.parseJSON=function(t){if(null==t)return null;try{return JSON.parse(t)}catch(e){throw e}},createjs.DataUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=r.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},r=t;r.LOAD_TIMEOUT_DEFAULT=8e3,r.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof r)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=r.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=r}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(e){var r={absolute:!1,relative:!1};if(null==e)return r;var i=e.indexOf("?");i>-1&&(e=e.substr(0,i));var n;return t.ABSOLUTE_PATT.test(e)?r.absolute=!0:t.RELATIVE_PATT.test(e)&&(r.relative=!0),(n=e.match(t.EXTENSION_PATT))&&(r.extension=n[1].toLowerCase()),r},t.formatQueryString=function(t,e){if(null==t)throw new Error("You must specify data.");var r=[];for(var i in t)r.push(i+"="+escape(t[i]));return e&&(r=r.concat(e)),r.join("&")},t.buildPath=function(t,e){if(null==e)return t;var r=[],i=t.indexOf("?");if(-1!=i){var n=t.slice(i+1);r=r.concat(n.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,r):t+"?"+this.formatQueryString(e,r)},t.isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var r=document.createElement("a");r.href=location.href;var i=""!=e.hostname&&(e.port!=r.port||e.protocol!=r.protocol||e.hostname!=r.hostname);return i},t.isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},t.isBinary=function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},t.isImageTag=function(t){return t instanceof HTMLImageElement},t.isAudioTag=function(t){return window.HTMLAudioElement?t instanceof HTMLAudioElement:!1},t.isVideoTag=function(t){return window.HTMLVideoElement?t instanceof HTMLVideoElement:!1},t.isText=function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},t.getTypeByExtension=function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=r,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),r=t;r.POST="POST",r.GET="GET",r.BINARY="binary",r.CSS="css",r.IMAGE="image",r.JAVASCRIPT="javascript",r.JSON="json",r.JSONP="jsonp",r.MANIFEST="manifest",r.SOUND="sound",r.VIDEO="video",r.SPRITESHEET="spritesheet",r.SVG="svg",r.TEXT="text",r.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractLoader_constructor(t,e,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,r=t.getResult(!0);t.getTag().src=e.createObjectURL(r)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var r=new BlobBuilder;r.append(this._response),this._response=r.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),r={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var n=0,a=s.ACTIVEX_VERSIONS.length;a>n;n++){var o=s.ACTIVEX_VERSIONS[n];try{i=new ActiveXObject(o);break}catch(l){}}if(null==i)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof i.responseType?2:1;var c=null;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,i.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),e||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var u in t.headers)r[u]=t.headers[u];for(u in r)i.setRequestHeader(u,r[u]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,r)}var e=createjs.extend(t,createjs.AbstractLoader),r=t;e.init=function(t,e,r){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=r,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=0/0},r.loadTimeout=8e3,r.LOAD_TIMEOUT=0,r.BINARY=createjs.AbstractLoader.BINARY,r.CSS=createjs.AbstractLoader.CSS,r.IMAGE=createjs.AbstractLoader.IMAGE,r.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,r.JSON=createjs.AbstractLoader.JSON,r.JSONP=createjs.AbstractLoader.JSONP,r.MANIFEST=createjs.AbstractLoader.MANIFEST,r.SOUND=createjs.AbstractLoader.SOUND,r.VIDEO=createjs.AbstractLoader.VIDEO,r.SVG=createjs.AbstractLoader.SVG,r.TEXT=createjs.AbstractLoader.TEXT,r.XML=createjs.AbstractLoader.XML,r.POST=createjs.AbstractLoader.POST,r.GET=createjs.AbstractLoader.GET,e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(t))throw new Error("loader already exists.");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setUseXHR=function(t){return this.setPreferXHR(t)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(t&&!Array.isArray(t))e=[t];else if(t)e=t;else if(arguments.length>0)return;var r=!1;if(e){for(;e.length;){var i=e.pop(),n=this.getResult(i);for(s=this._loadQueue.length-1;s>=0;s--)if(a=this._loadQueue[s].getItem(),a.id==i||a.src==i){this._loadQueue.splice(s,1)[0].cancel();break}for(s=this._loadQueueBackup.length-1;s>=0;s--)if(a=this._loadQueueBackup[s].getItem(),a.id==i||a.src==i){this._loadQueueBackup.splice(s,1)[0].cancel();break}if(n)this._disposeItem(this.getItem(i));else for(var s=this._currentLoads.length-1;s>=0;s--){var a=this._currentLoads[s].getItem();if(a.id==i||a.src==i){this._currentLoads.splice(s,1)[0].cancel(),r=!0;break}}}r&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},e.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],r=0,i=this._loadQueueBackup.length;i>r;r++)e.push(this._loadQueueBackup[r].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var r=0,i=e.types.length;i>r;r++)this._typeCallbacks[e.types[r]]=e;if(null!=e.extensions)for(r=0,i=e.extensions.length;i>r;r++)this._extensionCallbacks[e.extensions[r]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,r){if(null==t){var i=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(i)}this._addItem(t,null,r),this.setPaused(e!==!1?!1:!0)},e.loadManifest=function(t,e,i){var n=null,s=null;if(Array.isArray(t)){if(0==t.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}n=t}else if("string"==typeof t)n=[{src:t,type:r.MANIFEST}];else{if("object"!=typeof t){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==t.src){if(null==t.type)t.type=r.MANIFEST;else if(t.type!=r.MANIFEST){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}n=[t]}else void 0!==t.manifest&&(n=t.manifest,s=t.path)}for(var o=0,l=n.length;l>o;o++)this._addItem(n[o],s,i);this.setPaused(e!==!1?!1:!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var r=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==r)return null;var i=r.id;return e&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i]},e.getItems=function(t){var e=[];for(var r in this._loadItemsById){var i=this._loadItemsById[r],n=this.getResult(r);(t!==!0||null!=n)&&e.push({item:i,result:n,rawResult:this.getResult(r,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=0/0},e._addItem=function(t,e,r){var i=this._createLoadItem(t,e,r);if(null!=i){var n=this._createLoader(i);null!=n&&("plugins"in n&&(n.plugins=this._plugins),i._loader=n,this._loadQueue.push(n),this._loadQueueBackup.push(n),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder===!0)&&(this._scriptOrder.push(i),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,r){var i=createjs.LoadItem.create(t);if(null==i)return null;var n="",s=r||this._basePath;if(i.src instanceof Object){if(!i.type)return null;if(e){n=e;var a=createjs.RequestUtils.parseURI(e);null==s||a.absolute||a.relative||(n=s+n)}else null!=s&&(n=s)}else{var o=createjs.RequestUtils.parseURI(i.src);o.extension&&(i.ext=o.extension),null==i.type&&(i.type=createjs.RequestUtils.getTypeByExtension(i.ext));var l=i.src;if(!o.absolute&&!o.relative)if(e){n=e;var a=createjs.RequestUtils.parseURI(e);l=e+l,null==s||a.absolute||a.relative||(n=s+n)}else null!=s&&(n=s);i.src=n+i.src}i.path=n,(void 0===i.id||null===i.id||""===i.id)&&(i.id=l);var c=this._typeCallbacks[i.type]||this._extensionCallbacks[i.ext];if(c){var u=c.callback.call(c.scope,i,this);if(u===!1)return null;u===!0||null!=u&&(i._loader=u),o=createjs.RequestUtils.parseURI(i.src),null!=o.extension&&(i.ext=o.extension)}return this._loadItemsById[i.id]=i,this._loadItemsBySrc[i.src]=i,null==i.crossOrigin&&(i.crossOrigin=this._crossOrigin),i},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,r=0;r<this._availableLoaders.length;r++){var i=this._availableLoaders[r];if(i&&i.canLoadItem(t))return new i(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var r=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.getItem());this._sendError(r),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())
},e._handleFileComplete=function(t){var e=t.target,r=e.getItem(),i=e.getResult();this._loadedResults[r.id]=i;var n=e.getResult(!0);null!=n&&n!==i&&(this._loadedRawResults[r.id]=n),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(r,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var r=0;r<e.length;r++){var i=e[r].item;this._loadItemsBySrc[i.src]=i,this._loadItemsById[i.id]=i,this._loadedResults[i.id]=e[r].result,this._loadedRawResults[i.id]=e[r].rawResult}},e._finishOrderedItem=function(t,e){var r=t.getItem();if(this.maintainScriptOrder&&r.type==createjs.LoadQueue.JAVASCRIPT||r.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var i=createjs.indexOf(this._scriptOrder,r);return-1==i?!1:(this._loadedScripts[i]=e===!0?!0:r,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var r=this._loadedScripts[e];if(null===r)break;if(r!==!0){var i=this._loadedResults[r.id];r.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(i);var n=r._loader;this._processFinishedLoad(r,n),this._loadedScripts[e]=!0}}},e._processFinishedLoad=function(t,e){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT){var r=e.getTag();createjs.DomUtils.appendToHead(r)}this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var r=this._scriptOrder.indexOf(e),i=0;r>i;){var n=this._loadedScripts[i];if(null==n)return!1;i++}return this._currentlyLoadingScript=!0,!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,r=0;e>r;r++)if(this._currentLoads[r]==t){this._currentLoads.splice(r,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var r=0,i=0,n=this._currentLoads.length;n>i;i++)r+=this._currentLoads[i].progress;t+=r/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var r=new createjs.Event("fileprogress");r.progress=e,r.loaded=e,r.total=1,r.item=t,this.dispatchEvent(r)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()&&!this._paused){var r=new createjs.Event("fileload");r.loader=e,r.item=t,r.result=this._loadedResults[t.id],r.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(r),this.hasEventListener("fileload")&&this.dispatchEvent(r)}},e._sendFileStart=function(t){var e=new createjs.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.TEXT)}var e=(createjs.extend(t,createjs.AbstractLoader),t);e.canLoadItem=function(t){return t.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.BINARY},e._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=document.createElement(e?"style":"link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.CSS},e._formatResult=function(t){if(this._preferXHR){var e=t.getTag();if(e.styleSheet)e.styleSheet.cssText=t.getResult(!0);else{var r=document.createTextNode(t.getResult(!0));e.appendChild(r)}}else e=this._tag;return createjs.DomUtils.appendToHead(e),e},createjs.CSSLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(t)?this._tag=t:createjs.RequestUtils.isImageTag(t.src)?this._tag=t.src:createjs.RequestUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.IMAGE},e.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var t=this._item.crossOrigin;1==t&&(t="Anonymous"),null==t||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=t),this.AbstractLoader_load()},e._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(){return this._formatImage},e._formatImage=function(t,e){var r=this._tag,i=window.URL||window.webkitURL;if(this._preferXHR)if(i){var n=i.createObjectURL(this.getResult(!0));r.src=n,r.addEventListener("load",this._cleanUpURL,!1),r.addEventListener("error",this._cleanUpURL,!1)}else r.src=this._item.src;r.complete?t(r):(r.onload=createjs.proxy(function(){t(this._tag)},this),r.onerror=createjs.proxy(function(){e(_this._tag)},this))},e._cleanUpURL=function(t){var e=window.URL||window.webkitURL;e.revokeObjectURL(t.target.src)},createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},createjs.JavaScriptLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSON},e._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(r){var i=new createjs.ErrorEvent("JSON_FORMAT",null,r);return this._sendError(i),r}return e},createjs.JSONLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},e._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.MANIFEST_PROGRESS=.25,r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(r.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=r.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new createjs.LoadQueue;e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("complete",this._handleManifestComplete,this,!0),e.on("error",this._handleManifestError,this,!0);for(var r=0,i=this.plugins.length;i>r;r++)e.installPlugin(this.plugins[r]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-r.MANIFEST_PROGRESS)+r.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.ManifestLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(t)||createjs.RequestUtils.isVideoTag(t.src)?(this.setTag(createjs.RequestUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=createjs.extend(t,createjs.AbstractMediaLoader),r=t;e._createTag=function(){return document.createElement("video")},r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.SPRITESHEET_PROGRESS=.25,r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SPRITESHEET},e.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(r.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=r.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){if(t&&t.images){var e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),e.loadManifest(t.images)}},e._handleManifestFileLoad=function(t){var e=t.result;if(null!=e){var r=this.getResult().images,i=r.indexOf(t.item.src);r[i]=e}},e._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-r.SPRITESHEET_PROGRESS)+r.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.SpriteSheetLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",e?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SVG},e._formatResult=function(t){var e=createjs.DataUtils.parseXML(t.getResult(!0),"text/xml"),r=t.getTag();return!this._preferXHR&&document.body.contains(r)&&document.body.removeChild(r),null!=e.documentElement?(r.appendChild(e.documentElement),r.style.visibility="visible",r):e},createjs.SVGLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader),r=t;r.canLoadItem=function(t){return t.type==createjs.AbstractLoader.XML},e._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(t,"AbstractLoader")}(),createjs.EventDispatcher.prototype.___on=createjs.EventDispatcher.prototype.on,createjs.EventDispatcher.prototype.on=function(){return 2===arguments.length?this.addEventListener.apply(this,arguments):this.___on.apply(this,arguments)},function(){"use strict";var t,e;t=function(){},e=t,e.getPreloadHandlers=function(){return{callback:e.preloadHandler,types:["binary","image","javascript","json","jsonp","sound","video","svg","text","xml"]}},e.preloadHandler=function(t,e){var r,i,n,s,a,o,l;return o="undefined"!=typeof app&&null!==app&&null!=(l=app.config)?l.views:void 0,a=null!=o?o[e.id]:void 0,n=null!=o?o[null!=a?a.parentView:void 0]:void 0,i=!1,null!=t.cache?t.cache===!1&&(i=!0):null!=(null!=a?a.cache:void 0)?(null!=a?a.cache:void 0)===!1&&(i=!0):null!=(null!=n?n.cache:void 0)&&(null!=n?n.cache:void 0)===!1&&(i=!0),-1===t.src.indexOf("?v=")&&(s=(new Date).getTime(),r=i?"?v="+app.getInfo().version+"&noCache="+s:"?v="+app.getInfo().version,t.src+=r),!0},createjs.CacheControllerPlugin=t}(),this.createjs=this.createjs||{},function(){var t,e,r;t=function(t,e,r){this.fullBuffer=t.fullBuffer,this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._complete=createjs.proxy(this._handleTagComplete,this)},e=createjs.extend(t,createjs.TagRequest),r=t,e.load=function(){var t,e,r,i;e=createjs.proxy(this._handleProgress,this),this._handleProgress=e,r=createjs.proxy(this._handleStalled,this),this._handleStalled=r,t=createjs.proxy(this._handleError,this),this._handleError=t,i=createjs.proxy(this._handleTimeout,this),this._handleTimeout=i,this.____timer=setInterval(e,10),this._tag.addEventListener?(this._tag.addEventListener("progress",e),this._tag.addEventListener("stalled",r),this._tag.addEventListener("error",t)):(this._tag.onprogress=e,this._tag.onstalled=r,this._tag.onerror=t),this.fullBuffer||void 0===this.fullBuffer?this._tag.addEventListener?(this._tag.addEventListener("ended",this._complete,!1),this._tag.addEventListener("complete",this._complete,!1)):this._tag.onended=this._tag.oncomplete=this._complete:this._tag.addEventListener?this._tag.addEventListener("canplaythrough",this._complete,!1):this._tag.oncanplaythrough=this._complete,this.TagRequest_load()},e._handleTimeout=function(){},e._handleStalled=function(){},e._handleError=function(t){var e;try{throw console.log(t.data),new Error(t.title)}catch(r){return e=r,console.log(e.stack)}},e._handleProgress=function(){var t,e,r;try{e=this._tag.buffered.end(this._tag.buffered.length-1),r=this._tag.duration,this._tag.currentTime=e,this.dispatchEvent(new createjs.ProgressEvent(e,r))}catch(i){t=i}Math.round(e)>=Math.round(r)&&this._complete()},e.destroy=function(){this.TagRequest_destroy()},e._handleTagComplete=function(){this.TagRequest__handleTagComplete()},e._clean=function(){var t,e,r,i;try{e=this._tag.buffered.end(this._tag.buffered.length-1),r=this._tag.duration}catch(n){t=n}Math.round(e)>=Math.round(r)&&(clearInterval(this.____timer),this.____timer=null,this._tag.removeEventListener?(this._tag.removeEventListener("progress",this._handleProgress),this._tag.removeEventListener("stalled",this._handleStalled),this._tag.removeEventListener("error",this._handleError),this._tag.removeEventListener("ended",this._complete),this._tag.removeEventListener("complete",this._complete),this._tag.removeEventListener("canplaythrough",this._complete)):(this._tag.onended=null,this._tag.oncanplaythrough=null,this._tag.onprogress=null,this._tag.onstalled=null,this._tag.onerror=null),null!=(i=this._tag)&&(i.currentTime=1e-4),this.TagRequest__clean())},createjs.MediaRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){var t,e;t=function(t,e,r){this.AbstractLoader_constructor(t,e,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"},e=createjs.extend(t,createjs.AbstractLoader),e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=new createjs.MediaRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._formatResult=function(t){return this._tag.removeEventListener&&this._tag.removeEventListener("complete",this._loadedHandler),this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(t.getTag().src=t.getResult(!0)),t.getTag()},createjs.TagMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var t,e,r;t=function(t,e){this.___item=t,"video"===t.type?(this.TagMediaLoader_constructor(t,e,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(t)||createjs.RequestUtils.isVideoTag(t.src)?(this.setTag(createjs.RequestUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())):(this.TagMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!==this._tag&&(this._preferXHR=!1))},r=t,e=createjs.extend(t,createjs.TagMediaLoader),e._createTag=function(t){var e;return"video"===this.___item.type?(e=document.createElement("video"),e.type="video/mp4",e.preload="auto"):(e=document.createElement("audio"),e.type="audio/mpeg",e.preload="none",e.src=t),null!=this.___item.id&&(e.id=this.___item.id),e.autoplay=this.___item.autoplay&&void 0!==this.___item.autoplay?this.___item.autoplay:!1,e.loop=this.___item.loop&&void 0!==this.___item.loop?this.___item.loop:!1,e.volume=this.___item.volume&&void 0!==this.___item.volume?this.___item.volume:1,e},r.canLoadItem=function(t){return"video"===this.___item.type?t.type===createjs.AbstractLoader.VIDEO:t.type===createjs.AbstractLoader.SOUND},createjs.MediaLoader=createjs.promote(t,"TagMediaLoader")}(),function(){"use strict";var t,e;t=function(){},e=t,e.getPreloadHandlers=function(){return{callback:t.handlers,types:["sound","video"],extensions:["mp3","mp4"]}},e.handlers=function(t){var e;return e=new createjs.MediaLoader(t,!1)},createjs.MediaPlugin=t}();var AssetLoader;AssetLoader=function(t){function e(){this._fileLoad=__bind(this._fileLoad,this),this._onFileError=__bind(this._onFileError,this),this._onError=__bind(this._onError,this),this._groups={}}return __extends(e,t),e.INITIALIZE="initialize",e.COMPLETE_ALL="complete",e.COMPLETE_FILE="fileload",e.PROGRESS_ALL="progress",e.PROGRESS_FILE="fileprogress",e.START_ALL="loadstart",e.START_FILE="filestart",e.ERROR="error",e.FILE_ERROR="fileerror",e.getInstance=function(){return null!=e._instance?e._instance:e._instance=function(t,e,r){r.prototype=t.prototype;var i=new r,n=t.apply(i,e);return Object(n)===n?n:i}(e,arguments,function(){})},e.prototype._groups=null,e.prototype.loadGroup=function(t,e){var r;return r=this.getGroup(t),r.loadManifest(e),r},e.prototype.getGroup=function(t,r,i){var n;return null==r&&(r=3),null==i&&(i=!0),n=this._groups[t],n||(n=new createjs.LoadQueue(i),n.installPlugin(createjs.CacheControllerPlugin),n.installPlugin(createjs.MediaPlugin),n.id=t,this._groups[t]=n,n.on(e.COMPLETE_FILE,this._fileLoad),n.on(e.ERROR,this._onError),n.on(e.FILE_ERROR,this._onFileError)),n.setMaxConnections(r),n},e.prototype.preferXHR=function(t,e){var r;return null==e&&(e=!0),r=this.getGroup(t).setPreferXHR=e},e.prototype._onError=function(t){throw t.currentTarget.off(e.ERROR,this._onError),t.currentTarget.off(e.COMPLETE_FILE,this._fileLoad),console.log(t),new Error(t.title).stack},e.prototype._onFileError=function(t){throw t.currentTarget.off(e.FILE_ERROR,this._onFileError),t.currentTarget.off(e.COMPLETE_FILE,this._fileLoad),console.log(t),new Error(t.title).stack},e.prototype._fileLoad=function(t){return t.currentTarget.off(e.COMPLETE_FILE,this._fileLoad),t.currentTarget.off(e.ERROR,this._onError),t.currentTarget.off(e.FILE_ERROR,this._onFileError),t.item.tag=t.result,!1},e.prototype.getItem=function(t,e){var r,i,n,s,a;if(null==e&&(e=null),e)return null!=(s=this._groups[e])?s.getItem(t):void 0;a=this._groups;for(i in a)if(n=a[i],r=n.getItem(t))return r},e.prototype.getResult=function(t,e){var r,i,n,s,a,o;null==e&&(e=null),n=null,e&&(n=null!=(a=this._groups[e])?a.getResult(t):void 0),o=this._groups;for(i in o)s=o[i],(r=s.getResult(t))&&(n=r);return n},e.addFiles=function(t,e){var r,i,n,s,a,o;for(i=/.*\.(js|css|svg)$/g,n=/.*\.(mp4)$/g,a=0,o=t.length;o>a;a++)r=t[a],s={id:"",src:""},i.lastIndex=0,s.id=r.id||"item",s.src=r.src,n.test(s.src)&&(s.type="video"),r.src&&i.test(r.src)&&(s.type="text"),s.src&&e.loadFile(s,!1);return t.length>0&&e.load(),!1},e}(EventDispatcher);var ConditionsValidation,__slice=[].slice;ConditionsValidation=function(){function ConditionsValidation(t){this.validate=__bind(this.validate,this),_detections=app.detections,_list=ObjectUtils.clone(t)}var _detections,_list;return _list=null,_detections=null,ConditionsValidation.getInstance=function(t){return null!=ConditionsValidation._instance?ConditionsValidation._instance:ConditionsValidation._instance=new ConditionsValidation(t)},ConditionsValidation.prototype.add=function(t){var e,r;if(ObjectUtils.hasSameKey(t,_list)||ObjectUtils.isEqual(t,_list))throw new Error("The object "+JSON.stringify(t)+" already exists in validations list.");for(e in t)r=t[e],_list[e]=r;return!0},ConditionsValidation.get({list:function(){return _list}}),ConditionsValidation.prototype.get=function(t){if(this.has(t))return _list[t];throw new Error("The key "+t+" does not exists in validations list.")},ConditionsValidation.prototype.has=function(t){return _list[t]?!0:!1},ConditionsValidation.prototype.remove=function(t){if(_list[t])return delete _list[t],!0;throw new Error("The key "+t+" does not exists in validations list.")},ConditionsValidation.prototype.test=function(p_args){var parsed,validate;return parsed=p_args.replace(new RegExp(/[a-zA-Z0-9-_]+/g),"validate('$&')"),validate=this.validate,eval("(function(){return ("+parsed+");})();")},ConditionsValidation.prototype.validate=function(p_keyID){var a,err,i,k,key,match,matchSize,r,result,total,v,value,_i,_ref,_ref1;result=[],_ref=this.get(p_keyID);for(k in _ref)switch(v=_ref[k],k){case"size":matchSize=!0;for(key in v)switch(value=v[key],key){case"max-width":if(window.innerWidth>value){matchSize=!1;break}break;case"min-width":if(window.innerWidth<value){matchSize=!1;break}break;case"max-height":if(window.innerHeight>value){matchSize=!1;break}break;case"min-height":if(window.innerHeight<value){matchSize=!1;break}}result.push(matchSize);break;case"browser":for(key in v)switch(value=v[key],key){case"ua":result.push(new RegExp(value).test(_detections.ua));break;case"version":for(a=value.match(/\d+/g),total=a.length,total>_detections.versionArr.length&&(total=_detections.versionArr.length),i=_i=0;total>=0?total>=_i:_i>=total;i=total>=0?++_i:--_i)if(void 0!==a[i]){if(match=0,a[i]>_detections.versionArr[i]){match=1;break}if(a[i]<_detections.versionArr[i]){match=-1;break}}r=(null!=(_ref1=value.match(/[<>=]+/g))?_ref1[0]:void 0)||"==",0===r.lengh&&(r="=="),result.push(eval("0"+r+"match"));break;default:try{null!=_detections[key]&&result.push(value===_detections[key])}catch(_error){err=_error}}break;case"domain":result.push(v.toLowerCase()===window.location.hostname.toLowerCase());break;case"platform":result.push(v.toLowerCase()===_detections.platform.toLowerCase())}return-1===result.indexOf(!1)?!0:!1},ConditionsValidation.prototype.customTest=function(){var t,e;return e=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],e.call(void 0,t)},ConditionsValidation}();var MetaController;MetaController=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.getInstance=function(){return null!=e._instance?e._instance:e._instance=new e},e.prototype.change=function(t){var e,r,i;if(null!=t)for(r in t){i=t[r];try{this[r]=i}catch(n){e=n}}return!1},e.prototype.applyMeta=function(t,e){var r;return null!=e&&(null!=document.querySelector("meta[name="+t+"]")?document.querySelector("meta[name="+t+"]").content=e:(r=document.createElement("meta"),r.name=t,r.content=e,this.head.appendChild(r))),!1},e.prototype.applyLink=function(t,e,r){var i,n,s;if(null==r&&(r=null),n=document.createElement("link"),n.rel=t,n.href=e,null!=r&&"object"==typeof r)for(i in r)s=r[i],n[i]=s;return this.head.appendChild(n),!1},e.get({head:function(){return document.head||document.getElementsByTagName("head")[0]}}),e.set({viewport:function(t){return this.applyMeta("viewport",t)}}),e.set({title:function(t){return null!=t?(document.title=t,this.applyMeta("apple-mobile-web-app-title",t)):void 0}}),e.set({description:function(t){return this.applyMeta("description",t)}}),e.set({favicon:function(t){return null==this._favicon&&(this._favicon=t,this.applyLink("icon",t,{type:"image/x-icon"})),!1}}),e.set({icons:function(t){var e,r;for(e in t)r=t[e],this.applyLink(r.rel,r.href,{sizes:r.sizes});return!1}}),e.set({splash:function(t){return this.applyLink("apple-touch-startup-image",t),!1}}),e.set({webAppCapable:function(t){var e;return e=t===!0||"true"===t?"yes":"no",this.applyMeta("mobile-web-app-capable",e),this.applyMeta("apple-mobile-web-app-capable",e),!1}}),e.set({color:function(t){return this.webAppCapable=!0,this.applyMeta("theme-color",t),this.applyMeta("msapplication-navbutton-color",t),this.applyMeta("apple-mobile-web-app-status-bar-style","black-translucent"),!1}}),e.set({manifest:function(t){return this.applyLink("manifest",t),!1}}),e}(EventDispatcher);var BaseDOM,__slice=[].slice;Node.prototype.__appendChild__=Node.prototype.appendChild,Node.prototype.appendChild=function(t){var e;return e=t,t instanceof BaseDOM&&(e=t.element,t.parent=this),Node.prototype.__appendChild__.call(this,e)},Node.prototype.__removeChild__=Node.prototype.removeChild,Node.prototype.removeChild=function(t){var e;return e=t,t instanceof BaseDOM&&(e=t.element),Node.prototype.__removeChild__.call(this,e),t instanceof BaseDOM?t.parent=null:void 0},Node.prototype.__replaceChild__=Node.prototype.replaceChild,Node.prototype.replaceChild=function(t,e){var r,i;return r=t,i=e,t instanceof BaseDOM&&(r=t.element),e instanceof BaseDOM&&(i=e.element),Node.prototype.__replaceChild__.call(this,r,i),t instanceof BaseDOM&&(t.parent=this),e instanceof BaseDOM?e.parent=null:void 0},Element.prototype.matches=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,Node.prototype.findParents=function(t){return null!=this.parentNode?this.parentNode.matches(t)?this.parentNode:this.parentNode.findParents(t):null},BaseDOM=function(t){function e(){var t,r,i,n,s,a;if(a=1<=arguments.length?__slice.call(arguments,0):[],e.__super__.constructor.apply(this,arguments),r="div",t=null,n=null,"string"==typeof a[0]||a[0]instanceof HTMLElement)r=a[0];else for(i=a.length;i--;)s=a[i],null!=s.element&&(r=s.element),null!=s.className&&(t=s.className),null!=s.namespace&&(n=s.namespace);"string"==typeof r?n?(this._namespace=n,this._element=document.createElementNS(this._namespace,r)):this._element=document.createElement(r):r instanceof HTMLElement&&(this._element=r),t&&this.addClass(t),this._element.__instance__=this}return __extends(e,t),e.get({element:function(){return this._element}}),e.get({namespace:function(){return this._namespace}}),e.get({childNodes:function(){return this.element.childNodes}}),e.get({width:function(){return this.getBounds().width}}),e.get({height:function(){return this.getBounds().height}}),e.get({left:function(){return this.getBounds().left}}),e.get({top:function(){return this.getBounds().top}}),e.get({x:function(){return this.getBounds().left}}),e.get({y:function(){return this.getBounds().top}}),e.get({parent:function(){return this._parent}}),e.set({parent:function(t){if(null==t&&(t=null),null!=t){if(!(t instanceof e||t instanceof Node))throw new Error("Parent instance is not either Node or BaseDOM");return this._parent=t}return this._parent=null}}),e.get({className:function(){return this.element.className}}),e.set({className:function(t){return this.element.className=t.trim()}}),e.get({text:function(){return this.html}}),e.set({text:function(t){return this.html=t}}),e.get({html:function(){return this.element.innerHTML}}),e.set({html:function(t){return this.element.innerHTML=t}}),e.get({isAttached:function(){return("function"==typeof document.contains?document.contains(this.element):void 0)||document.body.contains(this.element)}}),e.get({attributes:function(){return this.element.attributes
}}),e.prototype.appendChild=function(t){return this.appendChildAt(t)},e.prototype.appendChildAt=function(t,r){var i;return null==r&&(r=-1),i=t,t instanceof e&&(i=t.element),-1===r||r>=this.childNodes.length?this.element.appendChild(i):this.element.insertBefore(i,this.childNodes[r]),t instanceof e&&(t.parent=this),t},e.prototype.replaceChild=function(t,r){var i,n;return i=t,n=r,t instanceof e&&(i=t.element),r instanceof e&&(n=r.element),this.element.replaceChild(i,n),t instanceof e&&(t.parent=this),r instanceof e&&(r.parent=null),t},e.prototype.remove=function(){var t;return null!=(t=this.parent)&&"function"==typeof t.removeChild?t.removeChild(this):void 0},e.prototype.removeChild=function(t){var r;r=t,t instanceof e&&(r=t.element);try{return this.element.removeChild(r)}catch(i){}},e.prototype.removeChildAt=function(t){return null==t&&(t=-1),t<this.childNodes.length?this.removeChild(this.childNodes[i]):void 0},e.prototype.removeAll=function(){var t,e,r;for(t=this.childNodes,e=t.length,r=[];e-->0;)r.push(this.removeChild(t[e]));return r},e.prototype.matches=function(t){return this.element.matches(t)},e.prototype.findParents=function(t){return this.element.findParents(t)},e.prototype.find=function(t,e){var r;return null==e&&(e=!1),r=this.element.querySelector(t),e?null!=r?r.__instance__:void 0:r},e.prototype.findAll=function(t,e){var r,i,n,s,a;if(null==e&&(e=!1),r=this.element.querySelectorAll(t),e){for(i=[],n=-1,s=r.length,a=0;++n<s;)r[n].__instance__&&(i[a++]=r[n].__instance__);r=i}return r},e.prototype.attr=function(t,e,r){var i,n,s;if(null==e&&(e="nonenonenone"),null==r&&(r=null),"string"==typeof t)return this._attr(t,e,r);if("object"==typeof t){s=[];for(i in t)n=t[i],s.push(this._attr(i,n,r));return s}},e.prototype._attr=function(t,e,r){return null==e&&(e="nonenonenone"),null==r&&(r=null),r===!0&&(r=this.namespace),"nonenonenone"!==e&&(null!=this.namespace?null!=e?this.element.setAttributeNS(r,t,e):this.element.removeAttributeNS(r,t,e):null!=e?this.element.setAttribute(t,e):this.element.removeAttribute(t,e)),null!=this.namespace?this.element.getAttributeNS(r,t):this.element.getAttribute(t)},e.prototype._css=function(t,e){return null==e&&(e=null),null!==e&&(this.element.style[t]=e),this.element.style[t]},e.prototype.css=function(t,e){var r,i,n;if(null==e&&(e=null),"string"==typeof t)return this._css(t,e);if("object"==typeof t){n=[];for(r in t)i=t[r],n.push(this._css(r,i));return n}},e.prototype.addClass=function(t){var e,r,i;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace(/\s+/gi," ").split(" "),i=e.length,r=t.length;r-->0;)e.indexOf(t[r])>=0||(e[i++]=t[r]);return this.className=e.join(" ")},e.prototype.removeClass=function(t){var e,r,i;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace(/\s+/gi," ").split(" "),r=t.length;r-->0;)(i=e.indexOf(t[r]))>=0&&e.splice(i,1);return this.className=e.join(" ")},e.prototype.toggleClass=function(t,e){var r,i;if(null==e&&(e=null),null!==e)return void(e?this.addClass(t):this.removeClass(t));if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(r=t.length,i=[];r-->0;)i.push(this.hasClass(t[r])?this.removeClass(t[r]):this.addClass(t[r]));return i},e.prototype.hasClass=function(t){var e,r,i;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace(/\s+/gi," ").split(" "),i=t.length,r=!0;i-->0;)r&=e.indexOf(t[i])>=0;return r},e.prototype.getBounds=function(t){var r,i,n,s,a;null==t&&(t=null),i={},r=this.element.getBoundingClientRect();for(n in r)a=r[n],i[n]=a;return t&&(t instanceof e?s=t.getBounds():t instanceof HTMLElement&&(s=t.getBoundingClientRect())),s&&(i.top-=s.top,i.left-=s.left,i.bottom-=s.top,i.right-=s.left),i.width=i.right-i.left,i.height=i.bottom-i.top,i},e.prototype.destroy=function(){return"function"==typeof this.off&&this.off(),"function"==typeof this.remove?this.remove():void 0},e}(EventDispatcher);var BaseView;BaseView=function(t){function e(t,i){null==t&&(t=null),null==i&&(i=null),this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.resume=__bind(this.resume,this),this.pause=__bind(this.pause,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),this.getReverseParentList=__bind(this.getReverseParentList,this),this._created=!1,this._showed=!1,this.data=t?t:{},this.id=null!=this._data.id?this._data.id:void 0,this.content=null!=this._data.content?this._data.content:void 0,this.route=null!=this._data.route?this._data.route:void 0,this.routeData=this._routeData?void 0:null,this.parentView=null!=this._data.parentView?this._data.parentView:void 0,this.subviews=null!=this._data.subviews?this._data.subviews:void 0,this.destroyable=null!=this._data.destroyable?this._data.destroyable:void 0,r=MetaController.getInstance(),e.__super__.constructor.call(this,{element:"div",className:i})}var r;return __extends(e,t),e.CREATE_START="create_start",e.CREATE="create",e.CREATE_COMPLETE="create_complete",e.SHOW_START="show_start",e.SHOW="show",e.SHOW_COMPLETE="show_complete",e.HIDE_START="hide_start",e.HIDE="hide",e.HIDE_COMPLETE="hide_complete",e.DESTROY="destroy",e.DESTROY_COMPLETE="destroy_complete",e.PAUSE="pause",e.RESUME="resume",r=null,e.get({loader:function(){var t;return null!=this._id?"undefined"!=typeof app&&null!==app&&null!=(t=app.loader)?t.getGroup(this._id):void 0:null}}),e.get({created:function(){return this._created}}),e.get({showed:function(){return this._showed}}),e.get({data:function(){return this._data}}),e.set({data:function(t){return this._data=ObjectUtils.clone(t)}}),e.get({id:function(){return this._id}}),e.set({id:function(t){return this._id=t}}),e.get({content:function(){return this._content}}),e.set({content:function(t){return this._content=t}}),e.get({route:function(){return this._route}}),e.set({route:function(t){return this._route=t}}),e.get({routeData:function(){return this._routeData}}),e.set({routeData:function(t){return this._routeData=t}}),e.get({parentView:function(){return this._parentView}}),e.set({parentView:function(t){return this._parentView=t}}),e.get({subviews:function(){return this._subviews}}),e.set({subviews:function(t){return this._subviews=t}}),e.get({destroyable:function(){return this._destroyable}}),e.set({destroyable:function(t){return this._destroyable=t}}),e.get({type:function(){return this._type}}),e.set({type:function(t){return this._type=t}}),e.get({meta:function(){var t,e;return null!=(null!=(t=this._content)?t.meta:void 0)&&null!=(e=this._content)?e.meta:void 0}}),e.get({progress:function(){return null!=this._progress?this._progress:this.loader.progress}}),e.set({progress:function(t){return this._progress=t}}),e.get({reverseParentPath:function(){return this.getReverseParentList(this),this._parentPath.reverse()}}),e.get({parentPath:function(){return this.getReverseParentList(this),this._parentPath}}),e.get({subviewsWrapper:function(){var t;return null!=(null!=(t=this._data)?t.subviewsWrapper:void 0)?this.find(this._data.subviewsWrapper):void 0}}),e.get({attachToParentWrapper:function(){var t;return null!=(null!=(t=this._data)?t.attachToParentWrapper:void 0)?this._data.attachToParentWrapper:void 0}}),e.prototype.getReverseParentList=function(t){return null==t&&(t=null),this._parentPath=[],null!=(null!=t?t.parentView:void 0)&&(this.getReverseParentList(t.parentView),this._parentPath.push(t.id)),!1},e.prototype.createStart=function(t){return null==t&&(t=null),this.trigger(e.CREATE_START,this),this.create(),!1},e.prototype.create=function(t){return null==t&&(t=null),this.trigger(e.CREATE,this),this.createComplete(),!1},e.prototype.createComplete=function(t){return null==t&&(t=null),this._created=!0,this.trigger(e.CREATE_COMPLETE,this),!1},e.prototype.showStart=function(t){return null==t&&(t=null),this.trigger(e.SHOW_START,this),r.change(this.meta),this.show(),!1},e.prototype.show=function(t){return null==t&&(t=null),this.trigger(e.SHOW,this),this.showComplete(),!1},e.prototype.showComplete=function(t){return null==t&&(t=null),this._showed=!0,this.trigger(e.SHOW_COMPLETE,this),!1},e.prototype.hideStart=function(t){return null==t&&(t=null),this.trigger(e.HIDE_START,this),this.hide(),!1},e.prototype.hide=function(t){return null==t&&(t=null),this._showed=!1,this.trigger(e.HIDE,this),this.hideComplete(),!1},e.prototype.hideComplete=function(t){return null==t&&(t=null),this.trigger(e.HIDE_COMPLETE,this),!1},e.prototype.pause=function(){return this.trigger(e.PAUSE,this),!1},e.prototype.resume=function(){return this.trigger(e.RESUME,this),!1},e.prototype.destroy=function(t){var r;return null==t&&(t=null),this._created=!1,this.removeAll(),null!=(r=this._parentPath)&&(r.length=0),this._parentPath=null,this._routeData=null,this._data=null,this.trigger(e.DESTROY,this),this.destroyComplete(),!1},e.prototype.destroyComplete=function(t){return null==t&&(t=null),this.trigger(e.DESTROY_COMPLETE,this),this.off(),!1},e}(BaseDOM);var NavigationLoader;NavigationLoader=function(_super){function NavigationLoader(t,e,r){var i,n;if(null==e&&(e="data/config.json"),null==r&&(r=null),this.mainAssetsLoaded=__bind(this.mainAssetsLoaded,this),this.preloaderAssetsLoaded=__bind(this.preloaderAssetsLoaded,this),this.coreAssetsLoaded=__bind(this.coreAssetsLoaded,this),this._showMainView=__bind(this._showMainView,this),this._createMainView=__bind(this._createMainView,this),this.destroyPreloderView=__bind(this.destroyPreloderView,this),this.hidePreloderView=__bind(this.hidePreloderView,this),this.showPreloaderView=__bind(this.showPreloaderView,this),this.createPreloaderView=__bind(this.createPreloaderView,this),this._loadComplete=__bind(this._loadComplete,this),this._loadProgress=__bind(this._loadProgress,this),this._loadFileComplete=__bind(this._loadFileComplete,this),this._parseContentFiles=__bind(this._parseContentFiles,this),this._createLoadQueue=__bind(this._createLoadQueue,this),this._contentsLoaded=__bind(this._contentsLoaded,this),this._prepareConfigFile=__bind(this._prepareConfigFile,this),wrapper=null==r?document.body:r,null==e)throw new Error("The param p_configPath is null");if(!(t instanceof BaseView))throw new Error("The param p_preloaderView is null or the instance of param p_preloaderView is not either BaseView class");_preloaderView=t,head=document.querySelector("head")||document.getElementsByTagName("head")[0],app.root=(null!=(i=document.querySelector("base"))?i.href:void 0)||(null!=(n=document.getElementsByTagName("base")[0])?n.href:void 0),app.loader=this.loader=AssetLoader.getInstance(),app.detections=Detections.getInstance(),this.loaded=!1,this.queue=this.loader.getGroup("config"),this.queue.on(AssetLoader.COMPLETE_FILE,this._prepareConfigFile),this.queue.loadFile({id:"config",cache:!1,src:null!=app.root?app.root+e:e})}var head,wrapper,_contentLoaded,_contentLoaders,_mainView,_preloaderView;return __extends(NavigationLoader,_super),head=null,wrapper=null,_mainView=null,_preloaderView=null,_contentLoaders=null,_contentLoaded=null,app.root=null,app.loader=null,app.config={},app.container={},app.navigation={},app.conditions=null,app.detections=null,NavigationLoader.prototype._prepareConfigFile=function(t){var e,r,i;if(this.queue.off(AssetLoader.COMPLETE_FILE,this._prepareConfigFile),_contentLoaders=this._parseConfigFile(t.result),_contentLoaders.length>0)for(e in _contentLoaders)i=_contentLoaders[e],r=this.loader.getGroup(i.queue),r.on(AssetLoader.COMPLETE_FILE,this._contentsLoaded),r.loadFile(i,!1),r.load();else this._createLoadQueue();return!1},NavigationLoader.prototype._contentsLoaded=function(t){var e,r;return null!=t&&null!=(e=t.currentTarget)&&e.off(AssetLoader.COMPLETE_FILE,this._contentsLoaded),null==_contentLoaded&&(_contentLoaded={}),null==this._totalContentsLoaded&&(this._totalContentsLoaded=0),_contentLoaded[Object.getOwnPropertyNames(null!=t&&null!=(r=t.currentTarget)?r._loadedResults:void 0)[0]]=t.result,this._totalContentsLoaded++,this._totalContentsLoaded===_contentLoaders.length?this._createLoadQueue():void 0},NavigationLoader.prototype._createLoadQueue=function(){var t,e,r,i,n;this.loaderSteps=[{ratio:0,id:"config"}],this.loaderStep=0,this.loaderRatio=0,this.currentStep=this.loaderSteps[0],this._totalContentsLoaded>0&&this._parseContentFiles(app.config.views,_contentLoaded),r=app.config.required,i=ObjectUtils.count(r),t=this.loaderSteps.length;for(e in r)switch(n=r[e],e){case"preloader":case"core":case"main":this.loaderSteps.splice(t,0,{id:e,data:n,ratio:1/i}),t++;break;default:this.loaderSteps.push({id:e,data:n,ratio:1/i})}return this.queue=this._createLoader(this.currentStep.id),this._totalContentsLoaded>0&&this.queue.load(),!1},NavigationLoader.prototype._parseContentFiles=function(t,e){var r,i,n,s,a,o,l,c,u,h,d,p,_,f;for(o in app.config.required){p=app.config.required[o];for(a in p)if(u=p[a],"string"==typeof(null!=u?u.content:void 0)){u.content=e[u.content],u.content=this._normalizePaths(u.content,app.config.paths),c=JSONUtils.filterObject(u.content,"src",null,null,!0),i=[];for(s in c)if(l=c[s],l.loadWithView===!0||void 0===l.loadWithView)if((null==l.id||void 0===l.id)&&(l.id=l.src),"object"!=typeof l.src&&"{}"!==l.src)i.push(l);else for(r=ObjectUtils.clone(l.src),n=h=0,_=r.length;_>=0?_>h:h>_;n=_>=0?++h:--h)if(null!=r[n].condition){if(app.conditions.test(r[n].condition)){null!=r[n].file&&(l.src=r[n].file,i.push(l));break}}else if(null!=r[n].file){l.src=r[n].file,i.push(l);break}app.config.required[o]=ArrayUtils.merge(app.config.required[o],i)}}for(a in t){if(u=t[a],e[u.content]&&(u.content=e[u.content],u.content=this._normalizePaths(u.content,app.config.paths),"object"==typeof u.content)){c=JSONUtils.filterObject(u.content,"src",null,null,!0),i=[];for(s in c)if(l=c[s],l.loadWithView===!0||void 0===l.loadWithView)if((null==l.id||void 0===l.id)&&(l.id=l.src),"object"!=typeof l.src&&"{}"!==l.src)i.push(l);else for(r=ObjectUtils.clone(l.src),n=d=0,f=r.length;f>=0?f>d:d>f;n=f>=0?++d:--d)if(null!=r[n].condition){if(app.conditions.test(r[n].condition)){null!=r[n].file&&(l.src=r[n].file,i.push(l));break}}else if(null!=r[n].file){l.src=r[n].file,i.push(l);break}app.config.required[u.id]?app.config.required[o]=ArrayUtils.merge(app.config.required[o],i):(app.config.required[u.id]=[],app.config.required[u.id]=i)}u.subviews&&this._parseContentFiles(u.subviews,e)}return!1},NavigationLoader.prototype._parseConfigFile=function(t){var e,r,i,n,s,a,o,l,c,u,h,d,p;t.paths=this._normalizeConfigPaths(t.paths),t=this._normalizePaths(t,t.paths),e=[],s=[],null==t.conditions&&(t.conditions={}),app.conditions||(app.conditions=ConditionsValidation.getInstance(t.conditions)),c=t.views;for(n in c)if(a=c[n],a["class"]=StringUtils.toCamelCase(a["class"]),s[a.id]=a,(a.loadContent||void 0===a.loadContent)&&a.content)if("object"!=typeof a.content&&"{}"!==a.content)e.push({id:a.content,src:a.content,queue:a.id,cache:a.cache});else for(r=o=0,u=a.content.length;u>=0?u>o:o>u;r=u>=0?++o:--o)if(null!=a.content[r].condition){if(app.conditions.test(a.content[r].condition)){null!=a.content[r].file&&e.push({id:a.content[r].file,src:a.content[r].file,queue:a.id,cache:a.cache});break}}else if(null!=a.content[r].file){e.push({id:a.content[r].file,src:a.content[r].file,queue:a.id,cache:a.cache});break}h=t.views;for(n in h){if(a=h[n],a.parentView===a.id)throw new Error("The parent view cannot be herself");null!=s[a.parentView]&&a.parentView!==a.id&&(s[a.parentView].subviews||(s[a.parentView].subviews={}),a.loadContent=void 0===a.loadContent?null!=s[a.parentView].loadContent?s[a.parentView].loadContent:!0:a.loadContent,s[a.parentView].subviews[a.id]=a)}for(i in t.required){d=t.required[i];for(n in d)if(a=d[n],a.content)if("object"!=typeof a.content&&"{}"!==a.content)a.id&&void 0!==a.id||(a.id=a.content),e.push({id:a.content,src:a.content,queue:i,cache:a.cache});else for(r=l=0,p=a.content.length;p>=0?p>l:l>p;r=p>=0?++l:--l)if(null!=a.content[r].condition){if(app.conditions.test(a.content[r].condition)){null!=a.content[r].file&&e.push({id:a.content[r].file,src:a.content[r].file,queue:i,cache:a.cache});break}}else if(null!=a.content[r].file){e.push({id:a.content[r].file,src:a.content[r].file,queue:i,cache:a.cache});break}}return t.views=s,app.config=t,e},NavigationLoader.prototype._createLoader=function(t){var e;return e=this.loader.getGroup(t),e.on(AssetLoader.COMPLETE_FILE,this._loadFileComplete),e.on(AssetLoader.PROGRESS_ALL,this._loadProgress),e.on(AssetLoader.COMPLETE_ALL,this._loadComplete),e},NavigationLoader.prototype._removeLoader=function(t){return t.removeAllEventListeners(AssetLoader.COMPLETE_FILE),t.removeAllEventListeners(AssetLoader.PROGRESS_ALL),t.removeAllEventListeners(AssetLoader.COMPLETE_ALL),t.destroy(),t},NavigationLoader.prototype._addFiles=function(t){var e,r,i,n;for(r=/.*\.(js|css|svg)$/g,i=0,n=t.length;n>i;i++)e=t[i],null!=(null!=e?e.src:void 0)&&((null==e.id||void 0===e.id)&&(e.id=e.src),-1!==e.src.indexOf(".json")&&(e.src=e.src),r.lastIndex=0,"string"==typeof e?r.test(e)&&(e={src:e,type:"text"}):e.src&&r.test(e.src)&&(e.type="text"),this.queue.loadFile(e,!1));return t.length>0&&this.queue.load(),!1},NavigationLoader.prototype._normalizeConfigPaths=function(t){var e,r,i;for(r=JSON.stringify(t);e=/\{([^\"\{\}]+)\}/.exec(r);)i=t[e[1]],i||(i=""),r=r.replace(new RegExp("{"+e[1]+"}","ig"),i),t=JSON.parse(r);return t},NavigationLoader.prototype._normalizePaths=function(t,e){var r,i;for(r in e)i=e[r],t=JSON.stringify(t),t=t.replace(new RegExp("{"+r+"}","ig"),i),t=JSON.parse(t);return t},NavigationLoader.prototype._loadFileComplete=function(evt){var data,e,result,si,style;switch(evt.item.ext){case"json":data=evt.result,data=JSONUtils.removeComments(evt.result),data=this._normalizePaths(data,app.config.paths),"string"!=typeof data&&(data=JSON.stringify(data));break;case"js":data=evt.result,data=data.replace(/^\/\/.*?(\n|$)/gim,""),"main"===this.currentStep.id?(result=eval(data),_mainView=result,_mainView.id="main"):eval("(function (){"+data+"}).call(self)");break;case"css":data=evt.result,style=document.createElement("style"),style.id=evt.item.id,style.type="text/css",head.appendChild(style),si=head.querySelectorAll("style").length;try{style.appendChild(document.createTextNode(data))}catch(_error){e=_error,document.all&&(document.styleSheets[si].cssText=data)}}return!1},NavigationLoader.prototype._loadProgress=function(t){return null!=_preloaderView&&(_preloaderView.progress=t.loaded/t.total*this.currentStep.ratio+this.loaderRatio),!1},NavigationLoader.prototype._loadComplete=function(){var t,e,r,i,n;if(this._removeLoader(this.queue),e=this.loaderSteps[this.loaderStep]){switch(e.id){case"core":this.coreAssetsLoaded();break;case"main":i=_mainView,i.id=e.id,this.mainAssetsLoaded();break;case"preloader":i=_preloaderView,i.id=e.id,this.preloaderAssetsLoaded(),this.createPreloaderView()}n=app.config.required[e.id];for(t in n)if(r=n[t],null!=(null!=r?r.content:void 0)){i.content=r.content;break}}return this.loaderRatio+=e.ratio,this.loaderStep++,this.loaderStep>=this.loaderSteps.length?(this.loaded=!0,this.hidePreloderView()):(this.currentStep=this.loaderSteps[this.loaderStep],this.queue=this._createLoader(this.currentStep.id),this._addFiles(this.currentStep.data),this.queue._loadQueue.length+this.queue._currentLoads.length===0&&this._loadComplete(),!1)},NavigationLoader.prototype.createPreloaderView=function(t){return null==t&&(t=null),wrapper.appendChild(_preloaderView.element),_preloaderView.on(BaseView.CREATE_COMPLETE,this.showPreloaderView),_preloaderView.createStart(),!1},NavigationLoader.prototype.showPreloaderView=function(t){return null==t&&(t=null),_preloaderView.off(BaseView.CREATE_COMPLETE,this.showPreloaderView),_preloaderView.showStart(),!1},NavigationLoader.prototype.hidePreloderView=function(t){return null==t&&(t=null),_preloaderView.on(BaseView.HIDE_COMPLETE,this.destroyPreloderView),_preloaderView.progress=1,_preloaderView.hideStart(),!1},NavigationLoader.prototype.destroyPreloderView=function(t){var e,r;return null==t&&(t=null),e=document.getElementById("hiddenFonts"),null!=e&&null!=(r=e.parentNode)&&r.removeChild(e),_preloaderView.off(BaseView.HIDE_COMPLETE,this.destroyPreloderView),_preloaderView.on(BaseView.DESTROY_COMPLETE,this._createMainView),_preloaderView.destroy(),this._removeLoader(this.queue),!1},NavigationLoader.prototype._createMainView=function(){var t,e;if(_preloaderView.off(BaseView.DESTROY_COMPLETE,this._createMainView),wrapper.removeChild(_preloaderView.element),_preloaderView=null,!(_mainView instanceof BaseView))throw new Error("The instance of Main class is not either BaseView class");return app.container=_mainView,wrapper.appendChild(_mainView.element),_mainView.on(BaseView.CREATE_COMPLETE,this._showMainView),(null!=(t=app.config.navigation)?t.startBefore:void 0)||void 0===(null!=(e=app.config.navigation)?e.startBefore:void 0)?(_mainView.setupNavigation(app.config),_mainView.createStart()):(_mainView.createStart(),_mainView.setupNavigation(app.config)),!1},NavigationLoader.prototype._showMainView=function(t){return null==t&&(t=null),_mainView.off(BaseView.CREATE_COMPLETE,this._showMainView),_mainView.showStart(),!1},NavigationLoader.prototype.coreAssetsLoaded=function(t){return null==t&&(t=null),!1},NavigationLoader.prototype.preloaderAssetsLoaded=function(t){return null==t&&(t=null),!1},NavigationLoader.prototype.mainAssetsLoaded=function(t){return null==t&&(t=null),!1},NavigationLoader}(EventDispatcher);var PreloaderBlock;PreloaderBlock=function(t){function e(t,r){null==t&&(t=null),null==r&&(r=null),this.destroy=__bind(this.destroy,this),this.hide=__bind(this.hide,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.call(this,t,"preloader")}return __extends(e,t),e.set({progress:function(t){return this.text=Math.round(100*t)+"%"}}),e.prototype.createStart=function(t){return null==t&&(t=null),this.css({width:"100%",height:"100%","font-size":"5em","text-align":"center","background-color":"#"+Math.floor(16777215*Math.random()).toString(16)}),e.__super__.createStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),TweenMax.to(this.element,1,{delay:.5,opacity:0,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)})},e.prototype.destroy=function(t){return null==t&&(t=null),TweenMax.killTweensOf(this.element),e.__super__.destroy.apply(this,arguments)},e}(BaseView);var Preloader;Preloader=function(t){function e(){e.__super__.constructor.call(this,new PreloaderBlock)}return __extends(e,t),e}(NavigationLoader),app.on("windowLoad",function(){return function(){return new Preloader}}(this))}).call(this);