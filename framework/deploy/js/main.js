(function(){var ViewsData,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};ViewsData=function(_super){function ViewsData(t){if(null==t)throw new Error("The param p_data is null");this._data=[],this._views=t.views}return __extends(ViewsData,_super),ViewsData.VIEW_CREATED="view_created",ViewsData.ALL_VIEWS_CREATED="all_views_created",ViewsData.prototype.getData=function(t){if(null==this._views[t])throw new Error('The view with id "'+t+'" does not exists in config file');return this._views[t]},ViewsData.prototype.get=function(t){return null!=this._data[t]?this._data[t]:null},ViewsData.prototype.set=function(t){return this.get(t.id)||(this._data[t.id]=t),!1},ViewsData.prototype.createAll=function(){var t;for(t in this._views)this.create(t);return this.trigger(ViewsData.ALL_VIEWS_CREATED,{views:this._data}),!1},ViewsData.prototype.create=function(p_id){var data,k,klass,subview,v,view,_base,_ref;if(null!=this.get(p_id)?view=this.get(p_id):(data=this.getData(p_id),klass=eval(data["class"]),view=new klass(data,data.id+"-view")),null==view.parentView?(view.type="view",view.parentView=app.container,null==(_base=app.container).subviews&&(_base.subviews={}),app.container.subviews[view.id]=view):"string"==typeof view.parentView&&(view.parentView=this.get(view.parentView)),null!=view.subviews){_ref=view.subviews;for(k in _ref)v=_ref[k],subview=this.create(v.id),subview.type="subview",subview.parentView=view,view.subviews[v.id]=subview}return this.set(view),this.trigger(ViewsData.VIEW_CREATED,{view:view}),view},ViewsData.prototype.remove=function(t){return this._data[t]=null,delete this._data[t],!1},ViewsData.prototype.normalize=function(t){var e;return e=this._views[t],null!=(null!=e?e.parentView:void 0)?this.normalize(e.parentView):null!=e?e.id:void 0},ViewsData}(EventDispatcher);var BaseNavigationController,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};BaseNavigationController=function(t){function e(){this._removeFromWrapper=__bind(this._removeFromWrapper,this),this._appendToWrapper=__bind(this._appendToWrapper,this),this.change=__bind(this.change,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.CHANGE="base_navigation_controller_change",e.CHANGE_VIEW="base_navigation_controller_change_view",e.CHANGE_SUBVIEW="base_navigation_controller_change_subview",e.prototype.setup=function(t){var e,i;return this._views=new ViewsData(t),((null!=(e=app.navigation)?e.instantiateViews:void 0)||void 0===(null!=(i=app.navigation)?i.instantiateViews:void 0))&&this._views.createAll(),!1},e.prototype.start=function(t){var e;if(null==t&&(t=null),this._started)throw new Error("The instance of BaseNavigationController already started");return this._started=!0,e=t?t:app.config.navigation.defaultView,this.goto(e),!1},e.prototype.goto=function(t){if(!this._started)throw new Error("The instance of BaseNavigationController is not started");return this.change(t),!1},e.get({type:function(){throw new Error("Override the visibleViews getter in "+this.constructor.type+" class")}}),e.get({visibleViews:function(){throw new Error("Override the visibleViews getter in "+this.constructor.name+" class")}}),e.get({currentView:function(){throw new Error("Override the currentView getter in "+this.constructor.name+" class")}}),e.get({previousView:function(){throw new Error("Override the previousView getter in "+this.constructor.name+" class")}}),e.get({data:function(){throw new Error("Override the data getter in "+this.constructor.name+" class")}}),e.prototype.change=function(){return this.trigger(e.CHANGE_VIEW,{data:this.data}),!1},e.prototype._appendToWrapper=function(t){var e;if(e=t.parentView,null!=t.parentView.subviewsWrapper&&(e=null==t.attachToParentWrapper?t.parentView.subviewsWrapper:t.parentView.find(t.attachToParentWrapper)),null==e)throw new Error("The instance of wrapper is not attached on the parent view");return e.appendChild(t)},e.prototype._removeFromWrapper=function(t){var e,i;i=(null!=t?t.parent:void 0)||(null!=t?t.parentView:void 0);try{return null!=i?i.removeChild(t):void 0}catch(n){return e=n,console.log(e.stack)}},e}(EventDispatcher);var ScrollNavigationController,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};ScrollNavigationController=function(t){function e(){this._onAutoKill=__bind(this._onAutoKill,this),this._onCompleteAutoScroll=__bind(this._onCompleteAutoScroll,this),this._onStartAutoScroll=__bind(this._onStartAutoScroll,this),this._scrollToView=__bind(this._scrollToView,this),this._show=__bind(this._show,this),this._snapping=__bind(this._snapping,this),this._isVisible=__bind(this._isVisible,this),this._onScroll=__bind(this._onScroll,this),this.change=__bind(this.change,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.get({type:function(){return"scroll"}}),e.get({visibleViews:function(){return this._visibleViews}}),e.get({currentView:function(){return this._currentView}}),e.get({previousView:function(){return this._previousView}}),e.get({data:function(){return{currentView:this.currentView,previousView:this.previousView,visibleViews:this._visibleViews}}}),e.prototype.start=function(t){var i,n,r,o,s,a;if(null==t&&(t=null),null==app.config.navigation.options)throw new Error("The options object in config.json file must be created to use this navigation, see a example in source code.");this._options=app.config.navigation.options,this._visibleViews=this._visibleViews||[],this._autoScrolling=!1,this._orientation=null==this._options.orientation||"vertical"!==this._options.orientation&&"horizontal"!==this._options.orientation?"vertical":this._options.orientation,this._snapDelay=null!=(null!=(s=this._options.snap)?s.delay:void 0)&&this._options.snap.delay>0?this._options.snap.delay:0,this._scrollToTime=this._options.scrollToTime>=0?this._options.scrollToTime:.5,this._showViewPercent=this._options.showViewPercent>=0||this._options.showViewPercent<=1?this._options.showViewPercent:.5,a=app.config.views;for(i in a)n=a[i],r=this._views.create(i),null==(o=r.data).snap&&(o.snap=!0),this._appendToWrapper(r),r.createStart();return window.addEventListener("scroll",this._onScroll),this._onScroll(null),e.__super__.start.call(this,t)},e.prototype.change=function(t){var e;if((null!=(e=this._currentView)?e.id:void 0)!==t)return null!=this._currentView&&(this._previousView=this._currentView),this._currentView=this._views.create(t),this._scrollToView(t)},e.prototype._onScroll=function(){var t,e,i,n,r,o,s,a,u;this._visibleViews=this._visibleViews||[],t=null,s=app.config.views,u=[];for(i in s)if(n=s[i],r=this._views.create(i),o=("vertical"===this._orientation?r.height+r.element.offsetTop:r.width+r.element.offsetLeft)-this._getScrollValue,this._isVisible(r)?this._visibleViews.indexOf(r)<0&&this._visibleViews.push(r):(e=this._visibleViews.indexOf(r),e>=0&&ArrayUtils.removeItemByIndex(e,this._visibleViews)),o>("vertical"===this._orientation?window.innerHeight:window.innerWidth)*this._showViewPercent&&null===t){if(t=r,this._snapping(r),(null!=(a=this._currentView)?a.id:void 0)===r.id)continue;null!=this._currentView&&(this._previousView=this._currentView),this._currentView=this._views.create(r.id),u.push(this._show(r))}else u.push(r.pause());return u},e.prototype._isVisible=function(t){var e,i,n,r;return"vertical"===this._orientation?(r=t.element.offsetTop,e=r+t.height,this._getScrollValue+window.innerHeight>r&&this._getScrollValue+window.innerHeight<e+window.innerHeight):(i=t.element.offsetLeft,n=i+t.width,this._getScrollValue+window.innerWidth>i&&this._getScrollValue+window.innerWidth<n+window.innerWidth)},e.prototype._snapping=function(t){return!this._autoScrolling&&this._snapDelay>0&&(TweenMax.killDelayedCallsTo(this._scrollToView),t.data.snap||t.snap)?TweenMax.delayedCall(this._snapDelay,this._scrollToView,[t.id]):void 0},e.prototype._show=function(t){return this.trigger(BaseNavigationController.CHANGE_VIEW,{data:this.data}),t.showed?t.resume():t.showStart()},e.prototype._scrollToView=function(t){var e;return e=this._views.create(t),TweenMax.killTweensOf(window),"vertical"===this._orientation?TweenMax.to(window,this._scrollToTime,{scrollTo:{y:e.element.offsetTop,onAutoKill:this._onAutoKill},ease:Quad.easeOut,onStart:this._onStartAutoScroll,onComplete:this._onCompleteAutoScroll}):TweenMax.to(window,this._scrollToTime,{scrollTo:{x:e.element.offsetLeft,onAutoKill:this._onAutoKill},ease:Quad.easeOut,onStart:this._onStartAutoScroll,onComplete:this._onCompleteAutoScroll}),TweenMax.killDelayedCallsTo(this._show),TweenMax.delayedCall(this._scrollToTime,this._show,[e])},e.prototype._onStartAutoScroll=function(){return this._autoScrolling=!0},e.prototype._onCompleteAutoScroll=function(){return this._autoScrolling=!1},e.prototype._onAutoKill=function(){return this._autoScrolling=!1},e.get({_getScrollValue:function(){var t,e;return"vertical"===this._orientation?"undefined"!=typeof pageYOffset?pageYOffset:(t=document.body,e=document.documentElement,e=e.clientHeight?e:t,e.scrollTop):"undefined"!=typeof pageXOffset?pageXOffset:(t=document.body,e=document.documentElement,e=e.clientWidth?e:t,e.scrollLeft)}}),e}(BaseNavigationController);var DefaultNavigationController,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};DefaultNavigationController=function(t){function e(){this._destroyComplete=__bind(this._destroyComplete,this),this._hideNext=__bind(this._hideNext,this),this._hideComplete=__bind(this._hideComplete,this),this._hide=__bind(this._hide,this),this._hideAllCallback=__bind(this._hideAllCallback,this),this._showNext=__bind(this._showNext,this),this._showComplete=__bind(this._showComplete,this),this._show=__bind(this._show,this),this._create=__bind(this._create,this),this.change=__bind(this.change,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.HIDE_ALL_SUBVIEWS="navigation_controller_hide_all_subviews",e.SHOW_ALL_SUBVIEWS="navigation_controller_show_all_subviews",e.get({type:function(){return"default"}}),e.get({visibleViews:function(){return[this._currentView]}}),e.get({currentView:function(){return this._currentView}}),e.get({previousView:function(){return this._previousView}}),e.get({data:function(){return{currentView:this.currentView,previousView:this.previousView,visibleViews:this.visiblesViews}}}),e.prototype.change=function(t){var i;if((null!=(i=this._currentView)?i.id:void 0)!==t)return null!=this._currentView?(this._previousView=this._currentView,this._currentView=this._views.create(t),-1!==this._currentView.parentPath.indexOf(this._previousView.id)?(this.indexView=this._currentView.parentPath.indexOf(this._previousView.id)+1,this.maxIndexView=this._currentView.parentPath.length-1,this._create()):-1!==this._previousView.parentPath.indexOf(t)?(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1-(this._previousView.parentPath.indexOf(t)+1),this._hide()):-1!==this._currentView.parentPath.indexOf(this._previousView.parentView.id)?(this.indexView=0,this.maxIndexView=this._currentView.parentPath.indexOf(this._previousView.parentView.id),this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide()):-1!==this._previousView.parentPath.indexOf(this._currentView.parentView.id)?(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1-(this._previousView.parentPath.indexOf(this._currentView.parentView.id)+1),this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide()):(this.indexView=0,this.maxIndexView=this._previousView.parentPath.length-1,this.on(e.HIDE_ALL_SUBVIEWS,this._hideAllCallback),this._hide())):(this._currentView=this._views.create(t),this.indexView=0,this.maxIndexView=this._currentView.parentPath.length-1,this._create()),e.__super__.change.apply(this,arguments)},e.prototype._create=function(t){var e,i;return null==t&&(t=null),null!=t&&null!=(i=t.currentTarget)&&"function"==typeof i.off&&i.off(null!=t?t.type:void 0,this._create),e=this._views.create(this._currentView.parentPath[this.indexView]),this._appendToWrapper(e),e.created?this._show(e):(e.on(BaseView.CREATE_COMPLETE,this._show),e.createStart()),!1},e.prototype._show=function(t){var e;return null==t&&(t=null),e=null==t.currentTarget?t:t.currentTarget,e.off(BaseView.CREATE_COMPLETE,this._show),e.showed?this._showComplete(e):(e.on(BaseView.SHOW_COMPLETE,this._showComplete),e.showStart()),!1},e.prototype._showComplete=function(t){var e;return null==t&&(t=null),e=null==t.currentTarget?t:t.currentTarget,e.off(BaseView.SHOW_COMPLETE,this._showComplete),this._showNext(e),!1},e.prototype._showNext=function(t){return this.indexView<this.maxIndexView?(this.indexView++,this._create()):this.trigger(e.SHOW_ALL_SUBVIEWS),this.trigger(BaseNavigationController.CHANGE,{view:t,transition:"show"}),!1},e.prototype._hideAllCallback=function(t){var e;return null!=t&&null!=(e=t.currentTarget)&&"function"==typeof e.off&&e.off(null!=t?t.type:void 0,this._hideAllCallback),this.indexView=0,this.maxIndexView=this._currentView.parentPath.length-1,this._create(),!1},e.prototype._hide=function(t){var e,i;return null==t&&(t=null),null!=t&&null!=(i=t.currentTarget)&&"function"==typeof i.off&&i.off(null!=t?t.type:void 0,this._hide),e=this._views.create(this._previousView.reverseParentPath[this.indexView]),e.on(BaseView.HIDE_COMPLETE,this._hideComplete),e.hideStart(),!1},e.prototype._hideComplete=function(t){var e;return null==t&&(t=null),e=t.currentTarget,e.off(BaseView.HIDE_COMPLETE,this._hideComplete),e.destroyable?(e.on(BaseView.DESTROY_COMPLETE,this._destroyComplete),e.destroy()):(this._removeFromWrapper(e),this._hideNext(e)),!1},e.prototype._hideNext=function(t){return this.indexView<this.maxIndexView?(this.indexView++,this._hide()):this.trigger(e.HIDE_ALL_SUBVIEWS),this.trigger(BaseNavigationController.CHANGE,{view:t,transition:"hide"}),!1},e.prototype._destroyComplete=function(t){var e;return e=t.currentTarget,e.off(BaseView.DESTROY_COMPLETE,this._destroyComplete),this._removeFromWrapper(e),this._views.remove(e.id),this._hideNext(e),!1},e}(BaseNavigationController);var NavigationRouter,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};NavigationRouter=function(t){function e(){this._onPathChange=__bind(this._onPathChange,this),this._routes=[],this._numRoutes=0,this._trigger=!0}return __extends(e,t),e.CHANGE="route_path_change",e.CHANGE_ROUTE="route_match",e.prototype.setup=function(t,e){var i,n,r,o;if(null==t&&(t=null),null==e&&(e=!1),!t){t=window.location.href;try{i=document.getElementsByTagName("base"),i.length>0&&(i=i[0],t=i.getAttribute("href"))}catch(s){n=s,console.log(n.stack)}}return this._rootPath=t.replace(/^(.*?)\/*$/,"$1/"),this._rawPath="",this._usePushState=e?!1:null!=("undefined"!=typeof window&&null!==window&&null!=(o=window.history)?o.pushState:void 0),this._usePushState?(this._rootPath!==window.location.href&&(r=this._getPath(),this.goto(r,!1)),window.addEventListener?window.addEventListener("popstate",this._onPathChange):window.attachEvent("onpopstate",this._onPathChange)):(this._rootPath!==window.location.href&&(r=this._getPath(),window.location=this._rootPath+"#!/"+r),window.addEventListener?window.addEventListener("hashchange",this._onPathChange):window.attachEvent("onhashchange",this._onPathChange)),this._onPathChange(),this},e.prototype._getPath=function(){var t,e;return e=window.location.href,t="/"===e.substr(e.length-1,e.length),t&&(e=e.substr(0,e.length-1)),0===e.indexOf(this._rootPath)&&(e=e.substr(this._rootPath.length)),e=e.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1")},e.prototype._parsePath=function(t){var e,i,n;return n=/^(?:#?!?\/*)([^?]*)\??(.*?)$/.exec(t),i=n[1],e=this._parseParams(n[2]),{rawPath:t,path:i,params:e}},e.prototype._parseParams=function(t){var e,i,n,r;if(r={},t)for(n=/&?([^=&]+)=?([^=&]*)/g,e=0;i=n.exec(t);)r[i[1]]=i[2];return r},e.prototype._onPathChange=function(t){return null==t&&(t=null),this._currentPath=this._getPath(),this._trigger&&this._triggerPath(this._currentPath),this._trigger=!0,this._replaceData?(this.goto(this._replaceData[0],!1),this._replaceData=null):this.trigger(e.CHANGE,this._parsePath(this._currentPath))},e.prototype._triggerPath=function(t){var i,n,r,o,s,a,u;if(n=this._parsePath(t),a=this._checkRoutes(n.path),s=a[0],o=a[1],s){for(i=s.length,u=[];i-->0;)r=s[i],u.push(this.trigger(e.CHANGE_ROUTE,{route:r.route,routeData:o,path:t,pathData:n,data:r.data}));return u}},e.prototype.getCurrentPath=function(){return this._currentPath},e.prototype.getParsedPath=function(){return this._parsePath(this._currentPath)},e.prototype.goto=function(t,e){return null==e&&(e=!0),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),t!==this._currentPath?(this._currentPath=t,this._trigger=e,this._usePushState?(history.pushState({},t,this._rootPath+t),this._trigger&&this._onPathChange(),this._trigger=!0):window.location.hash="!/"+t):void 0},e.prototype.replace=function(t,e){return null==e&&(e=!1),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),t!==this._currentPath&&(this._currentPath=t,this._usePushState?history.replaceState({},t,this._rootPath+t):(this._trigger=!1,history.back(),this._replaceData=[t])),e?this.triggerPath(t):void 0},e.prototype.triggerPath=function(t){return this._triggerPath(t)},e.prototype.triggerCurrentPath=function(){return this._triggerPath(this._getPath())},e.prototype.addRoute=function(t,e){var i,n,r,o,s,a,u;if(null==e&&(e=null),"string"!=typeof t)for(n=t.length;n-->0;)this.addRoute(t[n],e);for(a=/\{(.*?)\}/g,r=[],s=0;o=a.exec(t);)r[s++]=o[1];a=t,"*"===a&&(a=".*");try{a=a.replace(/(.*?)\/*$/,"$1"),u=new RegExp("(?:"+a.replace(/\{.*?\}/g,"(.+?)")+"$)","g")}catch(h){return i=h,void console.log(i.stack)}return this._routes[this._numRoutes++]={data:e,route:t,routeRE:u,labels:r,numLabels:r.length,numSlashes:t.split("/").length},this._routes.sort(this._sortRoutes)},e.prototype.removeRoute=function(t){var e,i;for(e=this._numRoutes;e-->0;)i=this._routes[e],i.route===t&&this._routes.splice(e,1);return this._numRoutes=this._routes.length},e.prototype.removeAllRoutes=function(){return this._routes.length=0,this._numRoutes=this._routes.length},e.prototype._checkRoutes=function(t){var e,i,n,r,o,s,a,u,h,l,p,_,c,d;for(n=this._numRoutes,i=null,e=null,h=[],l=0,t="/"+t;n-->0;){if(u=this._routes[n],i){if(u.route!==i)break;h[l++]=u}if(a=u.routeRE,a.lastIndex=0,s=a.exec(t))for(e={},h[l++]=u,i=u.route,d=u.labels,r=_=0,c=d.length;c>_;r=++_)o=d[r],p=s[r+1],e[o]=p}return[h,e]},e.prototype._sortRoutes=function(t,e){return t.numLabels<e.numLabels?-1:t.numLabels>e.numLabels?1:t.numSlashes<e.numSlashes?-1:t.numSlashes>e.numSlashes?1:t.route===e.route?0:t.route<e.route?-1:t.route>e.route?1:0},e}(EventDispatcher);var MetaController,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};MetaController=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.change=function(t){return this.title=null!=t?t.title:void 0,this.description=null!=t?t.description:void 0,this.favicon=null!=t?t.favicon:void 0},e.get({head:function(){return document.head||document.getElementsByTagName("head")[0]}}),e.set({title:function(t){return null!=t?document.title=t:void 0}}),e.set({description:function(t){var e;return null!=t?null!=document.querySelector("meta[name=description]")?document.querySelector("meta[name=description]").content=t:(e=document.createElement("meta"),this.head.appendChild(e),e.name="description",e.content=t):void 0}}),e.set({favicon:function(t){var e;return null!=t?null!=document.querySelector("link[rel=icon]")?(document.querySelector("link[rel=icon]").type="image/x-icon",document.querySelector("link[rel=icon]").href=t):(e=document.createElement("link"),this.head.appendChild(e),e.rel="icon",e.type="image/x-icon",e.href=t):void 0}}),e}(EventDispatcher);var Navigation,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Navigation=function(t){function e(t){if(null==t&&(t=null),this._routeChange=__bind(this._routeChange,this),this._navigationChange=__bind(this._navigationChange,this),this._getRouteByView=__bind(this._getRouteByView,this),this._getViewByRoute=__bind(this._getViewByRoute,this),this.gotoView=__bind(this.gotoView,this),this.goto=__bind(this.goto,this),this.gotoRoute=__bind(this.gotoRoute,this),this.setRoute=__bind(this.setRoute,this),this.gotoDefault=__bind(this.gotoDefault,this),this.start=__bind(this.start,this),this.setup=__bind(this.setup,this),!(t instanceof BaseNavigationController))throw new Error("The instance of "+t+" class is not either BaseNavigationController class");i=t,r=new NavigationRouter,n=new MetaController,app.navigation=this,e.__super__.constructor.apply(this,arguments)}var i,n,r;return __extends(e,t),e.CHANGE_ROUTE="navigation_change_route",e.CHANGE_VIEW="navigation_change_view",e.CHANGE_INTERNAL_VIEW="navigation_change_internal_view",i=null,r=null,n=null,e.prototype.setup=function(t){var e,n,o,s,a,u;i.on(BaseNavigationController.CHANGE,this._navigationChange),i.on(BaseNavigationController.CHANGE_VIEW,this._navigationChange),i.setup(t),r.on(NavigationRouter.CHANGE,this._routeChange),r.on(NavigationRouter.CHANGE_ROUTE,this._routeChange),r.setup(app.root,null!=(o=app.config.navigation)?o.forceHashBang:void 0),s=t.views;for(e in s)n=s[e],null!=n.route&&r.addRoute(n.route);return((null!=(a=app.config.navigation)?a.autoStart:void 0)||void 0===(null!=(u=app.config.navigation)?u.autoStart:void 0))&&this.start(),!1},e.prototype.start=function(t){var e,n,o,s;return null==t&&(t=null),s=null,n=r._parsePath(r.getCurrentPath()),o=r._checkRoutes(n.path)[0],o.length>0?(e=o[0].route,s=this._getViewByRoute(e)):s=null,i.start(s),!1},e.prototype.gotoDefault=function(){var t,e;return null!=(null!=(t=app.config.navigation)?t.defaultView:void 0)&&this.goto(null!=(e=app.config.navigation)?e.defaultView:void 0),!1},e.get({visibleViews:function(){return this._visibleViews||i.visibleViews}}),e.get({currentView:function(){var t;return t=this._currentView||i.currentView,t.routeData=this.routeData,t}}),e.get({previousView:function(){return this._previousView||i.previousView}}),e.get({routeData:function(){var t,e,i,n,o;return t=r._parsePath(r.getCurrentPath()),i=r._checkRoutes(t.path),e={},null!=i&&(e.raw=t.rawPath,e.params=t.params,e.route=null!=(n=i[0])&&null!=(o=n[0])?o.route:void 0,e.parsed=i[1]),e}}),e.prototype.setRoute=function(t,e){return null==e&&(e=!1),this.gotoRoute(t,e),!1},e.prototype.gotoRoute=function(t,e){if(null==e&&(e=!1),null!=t){if(0!==t.indexOf("/"))throw new Error('The value "'+t+'" is not a valid format to route ("/example")');return r.goto(t,e),!1}},e.prototype.goto=function(t){return 0===t.indexOf("/")?this.gotoRoute(t):this.gotoView(t),!1},e.prototype.gotoView=function(t){if(0===t.indexOf("/"))throw new Error('The value "'+t+'" is not a valid format to viewID ("exampleID")');return i.goto(t),!1},e.prototype._getViewByRoute=function(t){var e,i,n;n=app.config.views;for(e in n)if(i=n[e],null!=i.route&&i.route===t)return i.id;return null},e.prototype._getRouteByView=function(t){var e,i,n;n=app.config.views;for(e in n)if(i=n[e],null!=i.route&&i.id===t)return i.route;return null},e.prototype._navigationChange=function(t){switch(t.type){case BaseNavigationController.CHANGE_VIEW:this._currentView=t.data.currentView,this._previousView=t.data.previousView,this._visibleViews=t.data.visibleViews,this.trigger(e.CHANGE_VIEW,{data:t.data}),n.change(this.currentView.meta);break;case BaseNavigationController.CHANGE:this.trigger(e.CHANGE_INTERNAL_VIEW,{view:t.view,transition:t.transition})}return!1},e.prototype._routeChange=function(t){switch(null==t&&(t=null),t.type){case NavigationRouter.CHANGE_ROUTE:this.trigger(e.CHANGE_ROUTE,{data:this.routeData}),null!=this.routeData.route&&this.goto(this._getViewByRoute(this.routeData.route))}return null},e}(EventDispatcher);var NavigationContainer,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};NavigationContainer=function(t){function e(){this.setupNavigation=__bind(this.setupNavigation,this),e.__super__.constructor.call(this,null,"nav-container")}return __extends(e,t),e.prototype.setupNavigation=function(t){return this._navigation=new Navigation(this.controller),this._navigation.setup(t)},e.get({navigation:function(){return this._navigation}}),e.get({controller:function(){throw new Error("Override this method with a instance of BaseNavigationController.")}}),e}(BaseView);var Resizer,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Resizer=function(t){function e(){this.change=__bind(this.change,this),this.stop=__bind(this.stop,this),this.start=__bind(this.start,this),i=document.querySelector("body"),n={top:0,bottom:0,left:0,right:0},this.start()}var i,n;return __extends(e,t),e.RESIZE="resize_resizer",e.ORIENTATION_CHANGE="orientation_change_resizer",e.BREAKPOINT_CHANGE="breakpoint_changed_resizer",n=null,i=null,e.getInstance=function(){return null!=e._instance?e._instance:e._instance=new e},e.get({width:function(){return window.innerWidth}}),e.get({height:function(){return window.innerHeight}}),e.get({bounds:function(){return n}}),e.set({bounds:function(t){return n=t}}),e.get({orientation:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}}),e.prototype.start=function(){return window.addEventListener("resize",this.change),window.addEventListener("orientationchange",this.change),this.change()},e.prototype.stop=function(){return window.removeEventListener("resize",this.change),window.removeEventListener("orientationchange",this.change)},e.prototype.change=function(t){var i,n,r,o,s;if(null!=t&&t.preventDefault(),null!=t&&t.stopImmediatePropagation(),r={width:this.width,height:this.height,bounds:this.bounds,orientation:this.orientation},"resize"===(null!=t?t.type:void 0)&&this.trigger(e.RESIZE,r),"orientationchange"===(null!=t?t.type:void 0)&&this.trigger(e.ORIENTATION_CHANGE,r),null!=app.conditions){o=app.conditions.list,s=[];for(i in o)n=o[i],null!=n.size||null!=n.orientation?(app.conditions.test(i)?this.hasClass(i)||this.addClass(i):this.hasClass(i)&&this.removeClass(i),r.breakpoint={key:i,values:n},s.push(this.trigger(e.BREAKPOINT_CHANGE,r))):s.push(void 0);return s}},e.prototype.addClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),r=e.length,n=t.length;n-->0;)e.indexOf(t[n])>=0||(e[r++]=t[n]);return i.className=e.join(" "),!1},e.prototype.removeClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),n=t.length;n-->0;)(r=e.indexOf(t[n]))>=0&&e.splice(r,1);return i.className=e.join(" "),!1},e.prototype.hasClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace(/\s+/gi," ").split(" ");else if("Array"!=typeof t)return;for(e=i.className.replace(/\s+/gi," ").split(" "),r=t.length,n=!0;r-->0;)n&=e.indexOf(t[r])>=0;return n},e}(EventDispatcher);var SplitTextUtils;SplitTextUtils=function(){function t(){}return t.splitHTMLChars=function(t,e,i){return null==e&&(e={}),null==i&&(i="split-chunk"),this._splitHTML(t,i,e,this._replaceChars)},t.splitHTMLWords=function(t,e,i){return null==e&&(e={}),null==i&&(i="split-chunk"),this._splitHTML(t,i,e,this._replaceWords)},t._splitHTML=function(t,e,i,n){var r,o;return t instanceof BaseDOM&&(t=t.element),r=t.innerHTML,this._currentClassName=e,o=r.replace(/([^\<\>]*)?(\<[^\>]*\>)?/gi,n),t.innerHTML=o,t.querySelectorAll("."+e)},t._replaceChars=function(e,i,n){var r;return r="",i&&(r=i.replace(/(.)/g,'<span class="'+t._currentClassName+'">$1</span>')),n&&(r+=n),r},t._replaceWords=function(e,i,n){var r;return r="",i&&(r=i.replace(/([^\s]+)/g,'<span class="'+t._currentClassName+'">$1</span>')),n&&(r+=n),r},t}();var AnimationTicker;AnimationTicker=function(){function t(){}return t._callbacks=[],t._init=function(){return window.requestAnimationFrame||(window.mozRequestAnimationFrame?(window.requestAnimationFrame=window.mozRequestAnimationFrame,window.cancelAnimationFrame=window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame):window.webkitRequestAnimationFrame?(window.requestAnimationFrame=window.webkitRequestAnimationFrame,window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame):(window.requestAnimationFrame=function(t){return setTimeout(t,16)},window.cancelAnimationFrame=function(t){return clearTimeout(t)})),this._update()},t.add=function(t,e){var i;if(null==e&&(e={}),!t)throw new Error("callback is not defined.");return this.remove(t),e.initTime=this._currentTime,e.fps&&(e.initFrame||(e.initFrame=0),e.fpms=.001*e.fps,null==e.frame&&(e.frame=e.initFrame)),null==e.delay&&(e.delay=0),e.delayMs=1e3*e.delay,i={func:t,data:e},i.func(e),this._callbacks.push(i)},t.remove=function(t){var e,i;for(e=this._callbacks.length,i=[];e-->0;)i.push(this._callbacks[e].func===t?this._callbacks.splice(e,1):void 0);return i},t._update=function(e){var i,n,r,o,s,a,u,h;for(null==e&&(e=null),Array.isArray(e)||(e=t._callbacks),u=Date.now(),window.requestAnimationFrame(t._update),a=e.length,o=-1;++o<a;)if(s=e[o],i=s.data,n=u-i.initTime-i.delayMs,!(0>=n)){if(i.time=n,null!=i.fps){if(r=n*i.fpms+i.initFrame>>0,r===i.frame)continue;i.frame=r}null!=(h=e[o])&&"function"==typeof h.func&&h.func(i)}return t._currentTime=u},t._init(),t}();var BaseAnimation,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};BaseAnimation=function(t){function e(){if(this._redraw=__bind(this._redraw,this),this._update=__bind(this._update,this),this._sortLabels=__bind(this._sortLabels,this),this._updateLabels=__bind(this._updateLabels,this),"BaseAnimation"===this.constructor.name)throw new Error("Please extend me.");e.__super__.constructor.call(this,{element:"div",className:"animation"})}return __extends(e,t),e.PLAY="animation_play",e.STOP="animation_stop",e.RESUME="animation_resume",e.PAUSE="animation_pause",e.COMPLETE="animation_complete",e.REPEAT="animation_repeat",e.UPDATE="animation_update",e.prototype._repeat=!1,e.prototype._fps=15,e.prototype._iFps=0,e.prototype._currentTime=0,e.prototype._totalTime=0,e.prototype._durationTime=0,e.prototype._currentFrame=0,e.prototype._totalFrames=0,e.prototype._durationFrames=0,e.prototype._currentLabel=null,e.prototype._animData=null,e.prototype._currentAnimData=null,e.prototype._labels=[],e.get({paused:function(){return this._paused
}}),e.get({repeat:function(){return this._repeat}}),e.set({repeat:function(t){return this._repeat=t}}),e.get({fps:function(){return this._fps}}),e.set({fps:function(t){if(isNaN(t))throw new Error("fps isNaN");return this._fps=t,this._iFps=1/this._fps,this._dirty=!0}}),e.get({currentTime:function(){return this._currentTime}}),e.set({currentTime:function(t){if(isNaN(t))throw new Error("currentTime isNaN");return this._currentTime=t,this._dirty=!0}}),e.get({totalTime:function(){return this._totalTime}}),e.get({currentFrame:function(){return this._currentFrame}}),e.set({currentFrame:function(t){if(isNaN(t))throw new Error("currentFrame isNaN");return this._currentFrame=t,this._dirty=!0}}),e.get({durationFrames:function(){return this._durationFrames}}),e.get({totalFrames:function(){return this._totalFrames}}),e.get({currentLabel:function(){return this._currentLabel}}),e.set({_dirty:function(t){return t?(clearTimeout(this._dirtyTimeout),this._dirtyTimeout=setTimeout(this._redraw,0)):void 0}}),e.set({_labelsDirty:function(t){return t?(clearTimeout(this._labelsDirtyTimeout),this._labelsDirtyTimeout=setTimeout(this._updateLabels,0)):void 0}}),e.prototype.addLabel=function(t,e,i){return null==i&&(i=null),this.removeLabel(t),this._labels.push({name:t,start:e,end:i}),this._labelsDirty=!0},e.prototype.removeLabel=function(t){var e;for(e=this._labels.length;e-->0;)this._labels[e].name===t&&this._labels.splice(e,1);return this._labelsDirty=!0},e.prototype._updateLabels=function(){var t,e,i,n;for(this._labels.sort(this._sortLabels),t=e=this._totalFrames-1,i=this._labels.length;i-->0;)n=this._labels[i],n.duration=null===n.end?t-n.start:n.end-n.start,n.start!==e&&(t=e,e=n.start);return this._numLabels=this._labels.length},e.prototype._sortLabels=function(t,e){return t.start<e.start?-1:t.start>e.start?1:t.end>e.end?-1:t.end<e.end?1:0},e.prototype.play=function(t){return null==t&&(t={}),this._paused=!1,this._repeat=t.repeat||!1,this._animData=this._getLabelData(t.label),this._durationFrames=this._animData.duration,this._durationTime=this._durationFrames*this._iFps,this._currentFrame=0,this._currentTime=0,AnimationTicker.add(this._update,{fps:this._fps,delay:t.delay||0}),this.trigger(this.constructor.PLAY)},e.prototype.resume=function(){if(!this._animData)throw new Error("Resume can only be called after a pause.");return this._paused=!1,AnimationTicker.add(this._update,{fps:this._fps,initFrame:this._currentFrame}),this.trigger(this.constructor.RESUME)},e.prototype.pause=function(){if(!this._animData)throw new Error("Can't pause an animation that is not playing.");return this._paused=!0,AnimationTicker.remove(this._update),this.trigger(this.constructor.PAUSE)},e.prototype.stop=function(){if(!this._animData)throw new Error("Can't stop an animation that is not playing.");return this._paused=!1,AnimationTicker.remove(this._update),this.trigger(this.constructor.STOP)},e.prototype._getLabelData=function(t){var e,i;if(null==t&&(t=null),e={start:0,end:this._totalFrames-1,duration:this._totalFrames},null==this._numLabels&&this._updateLabels(),t)for(i=this._numLabels;i-->0;)if(this._labels[i].name===t){e=this._labels[i];break}return e},e.prototype._update=function(t){var e,i;if(!this._animData)throw new Error("Can't update without _animData");return e=t.frame,i=(e%this._durationFrames+this._durationFrames)%this._durationFrames,i!==this._currentFrame?(this.stackTrigger(this.constructor.UPDATE),e>=this._durationFrames&&(this._repeat?this.stackTrigger(this.constructor.REPEAT):(this.stackTrigger(this.constructor.COMPLETE),this.stop(),e=this._durationFrames-1)),this._currentFrame=(e%this._durationFrames+this._durationFrames)%this._durationFrames,this._currentTime=this._currentFrame*this._iFps,this._dirty=!0):void 0},e.prototype.redraw=function(){},e.prototype._redraw=function(){throw new Error("Method _redraw not overwritten.")},e}(BaseDOM);var SpriteSheetAnimation,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};SpriteSheetAnimation=function(t){function e(t){this._redrawBackground=__bind(this._redrawBackground,this),this._redrawImage=__bind(this._redrawImage,this);var i,n,r;if(null==t.image)throw new Error("data.image is not set");if(!t.json)throw new Error("data.json is not set");if(i=t.image.tag||t.image,n=t.json.tag||t.json,!(i instanceof Image||"img"===(null!=(r=i.tagName)?r.toLowerCase():void 0)))throw new Error("data.image is not Type of Image");e.__super__.constructor.apply(this,arguments),this.addClass("spritesheet"),this._frames=this._parseJson(n),this._totalFrames=this._frames.length,this._useBackground=t.background||!1,this._holder=new BaseDOM({element:"div"}),this._holder.css({display:"inline-block",width:this._size.w+"px",height:this._size.h+"px"}),this.appendChild(this._holder),this._container=new BaseDOM({element:"div"}),this._container.css({display:"inline-block",position:"absolute",overflow:"hidden"}),this.appendChild(this._container),this._useBackground?(this._setupBackground(i),this._redraw=this._redrawBackground):(this._setupImage(i),this._redraw=this._redrawImage)}return __extends(e,t),e._init=function(){var t,e,i,n,r;i=document.querySelector("head")||document.getElementsByTagName("head")[0],t=".animation.spritesheet{display: inline-block;position: relative;font-size:0px;}",r=document.createElement("style"),r.type="text/css",i.appendChild(r),n=i.querySelectorAll("style").length;try{return r.appendChild(document.createTextNode(t))}catch(o){if(e=o,document.all)return document.styleSheets[n].cssText=t}},e._init(),e.prototype._parseJson=function(t){var e,i,n,r,o,s,a,u,h,l,p,_,c,d;for(n=[],this._imageSize=t.meta.size,p=!1,u=Number.MIN_VALUE,a=Number.MIN_VALUE,r=0,d=t.frames,_=0,c=d.length;c>_;_++)e=d[_],l=e.sourceSize.w,h=e.sourceSize.h,s=1/l,o=1/h,i={},i.source=e.frame,i.proportionalSource={x:(100*-(e.frame.x/e.frame.w)).toString()+"%",y:(100*-(e.frame.y/e.frame.h)).toString()+"%",w:(this._imageSize.w/e.frame.w*100).toString()+"%",h:(this._imageSize.h/e.frame.h*100).toString()+"%"},i.output={x:e.spriteSourceSize.x,y:e.spriteSourceSize.y,w:e.frame.w,h:e.frame.h},i.proportionalOutput={x:e.spriteSourceSize.x*s,y:e.spriteSourceSize.y*o,w:e.frame.w*s,h:e.frame.h*o},l>u&&(u=l),h>a&&(a=h),n[r++]=i;for(this._size={w:u,h:a},r=n.length;r-->0;)i=n[r],i.output.x=(i.output.x/u*100).toString()+"%",i.output.y=(i.output.y/a*100).toString()+"%",i.output.w=(i.output.w/u*100).toString()+"%",i.output.h=(i.output.h/a*100).toString()+"%";return n},e.prototype._setupImage=function(t){return this._image=t.cloneNode(),this._image.style.position="absolute",this._image.style.display="inline-block",this._image.style.width=this._imageSize.w/this._size.w*100+"%",this._image.style.height=this._imageSize.h/this._size.h*100+"%",this._container.appendChild(this._image)},e.prototype._setupBackground=function(){},e.prototype._redrawImage=function(){var t,e;return(e=this._frames[this._currentFrame])?(this._container.css({left:e.output.x,top:e.output.y,width:e.output.w,height:e.output.h}),t=this._container.getBounds(),this._image.style.left=e.proportionalSource.x,this._image.style.top=e.proportionalSource.y,this._image.style.width=e.proportionalSource.w,this._image.style.height=e.proportionalSource.h):void 0},e.prototype._redrawBackground=function(){return console.log(2),this.html=this._currentFrame,console.log(this._currentFrame)},e}(BaseAnimation);var ImageSequenceAnimation,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};ImageSequenceAnimation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(BaseAnimation);var HomeVideo,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};HomeVideo=function(t){function e(t){this._playAgain=__bind(this._playAgain,this),this._handler=__bind(this._handler,this),this._data=t,e.__super__.constructor.call(this,{className:"home-video"})}return __extends(e,t),e.CAN_PLAY="canplaytroughHomeVideo",e.PLAY="playHomeVideo",e.PAUSE="pauseHomeVideo",e.COMPLETE="completeHomeVideo",e.prototype.create=function(){return!1},e.prototype.setVideo=function(t){var e,i,n;return null!=(e=this._video)&&e.off("play",this._handler),null!=(i=this._video)&&i.off("pause",this._handler),null!=(n=this._video)&&n.off("ended",this._handler),this._video=t,this.appendChild(this._video),this._video.on("play",this._handler),this._video.on("pause",this._handler),this._video.on("ended",this._handler),this._video.setAttribute("autoplay","true"),this._video.setAttribute("preload","auto"),!1},e.prototype.play=function(){var t,e;return null!=(t=this._video)&&(t.currentTime=0),null!=(e=this._video)&&e.play(),!1},e.prototype.pause=function(){return this._video.pause(),!1},e.prototype._handler=function(t){switch(t.type){case"canplaytrough":this.trigger(e.CAN_PLAY);break;case"play":this.trigger(e.PLAY);break;case"pause":this.trigger(e.PAUSE);break;case"ended":this.trigger(e.COMPLETE)}return!1},e.prototype._playAgain=function(){return this.play(),!1},e}(BaseDOM);var HomeView,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};HomeView=function(t){function e(){return this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this._handler=__bind(this._handler,this),this._mouseDown=__bind(this._mouseDown,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){var i,n,r,o;for(null==t&&(t=null),n=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM("div"),this.appendChild(this.test),this.test.text="Lorem <b>ipsum</b> <a href='http://google.com.br'>google</a></b> dolor",this.test.css({width:"1550px",height:"550px",display:"table-cell","background-color":"#"+n}),o=SplitTextUtils.splitHTMLWords(this.test),r=o.length;r-->0;)TweenMax.to(o[r],1,{opacity:0,delay:2*Math.random()});return i=new SpriteSheetAnimation(this.content.spritesheets[0]),i.addLabel("test",0,10),i.addLabel("test1",10,20),i.addLabel("test2",10),i.addLabel("test3",20,30),i.fps=15,this.appendChild(i),i.play({repeat:!0,label:"test"}),this._ba=i,window.addEventListener("mousedown",this._mouseDown),e.__super__.create.apply(this,arguments)},e.prototype._mouseDown=function(){return this._ba.paused?this._ba.resume():this._ba.pause()},e.prototype._handler=function(){return!1},e.prototype.createComplete=function(t){return null==t&&(t=null),TweenMax.set(this.test.element,{opacity:0}),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.5,{opacity:1,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.show.apply(t,arguments)}}(this)})},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.5,{opacity:0,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)})},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.element.off("click",this.go),this.test&&(TweenMax.killTweensOf(this.test),this.test.destroy(),this.removeChild(this.test),this.test=null),this.a&&(this.a.destroy(),this.removeChild(this.a),this.a=null),this.b&&(this.b.destroy(),this.removeChild(this.b),this.b=null),e.__super__.destroy.apply(this,arguments)},e.prototype.destroyComplete=function(t){return null==t&&(t=null),e.__super__.destroyComplete.apply(this,arguments)},e}(BaseView);var Test1View,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Test1View=function(t){function e(){return this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.changeSubview=__bind(this.changeSubview,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){var i;return null==t&&(t=null),i=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM("div"),this.appendChild(this.test),this.test.text="BLAH BLHA BLHA BLHA",this.test.css({width:"1100px",height:"800px",display:"table-cell","background-color":"#"+i}),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),TweenMax.set(this.test.element,{opacity:0}),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.5,{opacity:1,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.show.apply(t,arguments)}}(this)})},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.5,{opacity:0,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)})},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.changeSubview=function(t){return null==t&&(t=null),e.__super__.changeSubview.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.element.off(),TweenMax.killTweensOf(this.test),this.removeChild(this.test),this.test=null,e.__super__.destroy.apply(this,arguments)},e.prototype.destroyComplete=function(t){return null==t&&(t=null),e.__super__.destroyComplete.apply(this,arguments)},e}(BaseView);var Sub1View,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Sub1View=function(t){function e(){return this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.changeSubview=__bind(this.changeSubview,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){var i;return null==t&&(t=null),i=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM("div"),this.appendChild(this.test),this.test.text="SUB 1",this.test.css({width:"1350px",height:"350px",display:"table-cell","background-color":"#"+i}),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),TweenMax.set(this.test.element,{opacity:0}),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.3,{opacity:1,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.show.apply(t,arguments)}}(this)})},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.3,{opacity:0,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)})},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.changeSubview=function(t){return null==t&&(t=null),e.__super__.changeSubview.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.element.off(),this.test&&(TweenMax.killTweensOf(this.test),this.test.destroy(),this.removeChild(this.test),this.test=null),e.__super__.destroy.apply(this,arguments)},e.prototype.destroyComplete=function(t){return null==t&&(t=null),e.__super__.destroyComplete.apply(this,arguments)},e}(BaseView);var Sub2View,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Sub2View=function(t){function e(){return this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.changeSubview=__bind(this.changeSubview,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){var i;return null==t&&(t=null),i=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM("div"),this.appendChild(this.test),this.test.text="SUB 2",this.test.css({width:"1450px",height:"550px",display:"table-cell","background-color":"#"+i}),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),TweenMax.set(this.test.element,{opacity:0}),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.3,{opacity:1,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.show.apply(t,arguments)}}(this)})},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),null!=this.test?TweenMax.to(this.test.element,.3,{opacity:0,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)}):void 0},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.changeSubview=function(t){return null==t&&(t=null),e.__super__.changeSubview.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.element.off(),this.test&&(TweenMax.killTweensOf(this.test),this.test.destroy(),this.removeChild(this.test),this.test=null),e.__super__.destroy.apply(this,arguments)},e.prototype.destroyComplete=function(t){return null==t&&(t=null),e.__super__.destroyComplete.apply(this,arguments)},e}(BaseView);var Sub3View,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Sub3View=function(t){function e(){return this.destroyComplete=__bind(this.destroyComplete,this),this.destroy=__bind(this.destroy,this),this.changeSubview=__bind(this.changeSubview,this),this.hideComplete=__bind(this.hideComplete,this),this.hide=__bind(this.hide,this),this.hideStart=__bind(this.hideStart,this),this.showComplete=__bind(this.showComplete,this),this.show=__bind(this.show,this),this.showStart=__bind(this.showStart,this),this.createComplete=__bind(this.createComplete,this),this.create=__bind(this.create,this),this.createStart=__bind(this.createStart,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.createStart=function(t){return null==t&&(t=null),e.__super__.createStart.apply(this,arguments)},e.prototype.create=function(t){var i;return null==t&&(t=null),i=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM("div"),this.appendChild(this.test),this.test.text="SUB 3",this.test.css({width:"1000px",height:"550px",display:"table-cell","background-color":"#"+i}),e.__super__.create.apply(this,arguments)},e.prototype.createComplete=function(t){return null==t&&(t=null),TweenMax.set(this.test.element,{opacity:0}),e.__super__.createComplete.apply(this,arguments)},e.prototype.showStart=function(t){return null==t&&(t=null),e.__super__.showStart.apply(this,arguments)},e.prototype.show=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.3,{opacity:1,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.show.apply(t,arguments)}}(this)})},e.prototype.showComplete=function(t){return null==t&&(t=null),e.__super__.showComplete.apply(this,arguments)},e.prototype.hideStart=function(t){return null==t&&(t=null),e.__super__.hideStart.apply(this,arguments)},e.prototype.hide=function(t){return null==t&&(t=null),TweenMax.to(this.test.element,.3,{opacity:0,ease:Quad.easeOut,onComplete:function(t){return function(){return e.__super__.hide.apply(t,arguments)}}(this)})},e.prototype.hideComplete=function(t){return null==t&&(t=null),e.__super__.hideComplete.apply(this,arguments)},e.prototype.changeSubview=function(t){return null==t&&(t=null),e.__super__.changeSubview.apply(this,arguments)},e.prototype.destroy=function(t){return null==t&&(t=null),this.element.off(),this.test&&(TweenMax.killTweensOf(this.test),this.test.destroy(),this.removeChild(this.test),this.test=null),e.__super__.destroy.apply(this,arguments)},e.prototype.destroyComplete=function(t){return null==t&&(t=null),e.__super__.destroyComplete.apply(this,arguments)},e}(BaseView);var Main,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};return new(Main=function(t){function e(){return this.resize=__bind(this.resize,this),this.create=__bind(this.create,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.create=function(t){var i,n,r,o,s;null==t&&(t=null),r=new BaseDOM,this.appendChildAt(r,0),app.navigation.on(Navigation.CHANGE_VIEW,this.test),s=app.config.views;for(n in s)o=s[n],i=Math.floor(16777215*Math.random()).toString(16),this.test=new BaseDOM,r.appendChild(this.test),this.test.text=o.id,this.test.css({width:"50px",height:"25px",display:"inline-block",cursor:"pointer","background-color":"#"+i}),this.test.element.on("click",this.go);return app.resizer=Resizer.getInstance(),app.resizer.bounds={top:10,bottom:10,left:10,right:10},app.resizer.on(Resizer.RESIZE,this.resize),e.__super__.create.apply(this,arguments)},e.prototype.test=function(t){return console.log(">>>",t.data)},e.prototype.go=function(t){return app.navigation.gotoView(t.srcElement.innerText)},e.prototype.resize=function(){},e.get({controller:function(){return new ScrollNavigationController}}),e}(NavigationContainer))}).call(this);