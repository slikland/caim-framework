(function(){var AppEvent;AppEvent=function(){function t(){}return t.ACTIVE="windowActive",t.INACTIVE="windowInactive",t}();var EventDispatcher,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};EventDispatcher=function(){function t(){this.trigger=__bind(this.trigger,this)}return t.prototype._events=null,t.prototype.on=function(t,e){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),__indexOf.call(this._events[t],e)>=0?void 0:this._events[t].unshift(e)},t.prototype.off=function(t,e){var n,r;if(null==t&&(t=null),null==e&&(e=null),!this._events)return void(this._events={});if(n=this._events[t]){if(e){for(;(r=n.indexOf(e))>=0;)n.splice(r,1);return this._events[t]=n}return this._events[t].length=0}},t.prototype.offAll=function(){return this._events={},!1},t.prototype.trigger=function(t,e,n){var r,i,o,s,a,u,h,l;if(null==e&&(e=null),null==n&&(n=null),Array.isArray(t))for(u=0,h=t.length;h>u;u++)r=t[u],this.trigger(t,e);else if(this._events||(this._events={}),i=this._events[t],i&&0!==i.length){if(n||(n=this),r={type:t,target:n,currentTarget:this},"object"==typeof e)for(s in e)a=e[s],r[s]||(r[s]=a);for(o=i.length,l=[];o-->0;)l.push("function"==typeof i[o]?i[o](r,e):void 0);return l}},t.prototype.hasEvent=function(t,e){var n;for(n in this._events)if(n===t&&this._events[n].indexOf(e)>-1)return!0;return!1},t}();var App,app,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};App=function(t){function e(){e.__super__.constructor.apply(this,arguments),this._checkWindowActivity()}return __extends(e,t),e.prototype._checkWindowActivity=function(){var t,e,n,r;return this._hidden="hidden",t=this._hidden,__indexOf.call(document,t)>=0?document.addEventListener("visibilitychange",onchange):(e=this._hidden="mozHidden",__indexOf.call(document,e)>=0?document.addEventListener("mozvisibilitychange",onchange):(n=this._hidden="webkitHidden",__indexOf.call(document,n)>=0?document.addEventListener("webkitvisibilitychange",onchange):(r=this._hidden="msHidden",__indexOf.call(document,r)>=0?document.addEventListener("msvisibilitychange",onchange):__indexOf.call(document,"onfocusin")>=0?document.onfocusin=document.onfocusout=onchange:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=onchange))),void 0!==document[this._hidden]?onchange({type:document[this._hidden]?"blur":"focus"}):void 0},e.prototype._windowVisibilityChange=function(){var t,e,n,r,i,o;return i="visible",n="hidden",e={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0},t=t||window.event,o=t.type,r=__indexOf.call(e,o)>=0?e[t.type]:document[this._hidden],this.trigger(r?AppEvent.INACTIVE:AppEvent.ACTIVE)},e}(EventDispatcher),app||(app=new App);var Router,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Router||(Router=function(t){function e(){this._onPathChange=__bind(this._onPathChange,this),this._routes=[],this._numRoutes=0,this._trigger=!0}return __extends(e,t),e.getInstance=function(){return null!=e.instance?e.instance:e.instance=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(e,arguments,function(){})},e.CHANGE="routePathChange",e.ROUTE="routeMatch",e.prototype.init=function(t,e){var n,r,i;if(null==t&&(t=null),null==e&&(e=!1),!t){t=window.location.href;try{n=document.getElementsByTagName("base"),n.length>0&&(n=n[0],t=n.getAttribute("href"))}catch(o){}}return this._rootPath=t.replace(/^([^\#]+)(?:\#.*?)?$/,"$1").replace(/^(.*?)\/*$/,"$1/"),this.defaultTitle=document.title,this._usePushState=e?!1:null!=("undefined"!=typeof window&&null!==window&&null!=(i=window.history)?i.pushState:void 0),this._rawPath="",this._usePushState?(this._rootPath!==window.location.href&&(r=this._getPath(),this.goto(r,!1)),window.addEventListener?window.addEventListener("popstate",this._onPathChange):window.attachEvent("onpopstate",this._onPathChange)):(this._rootPath!==window.location.href&&(r=this._getPath(),window.location=this._rootPath+"#!/"+r),window.addEventListener?window.addEventListener("hashchange",this._onPathChange):window.attachEvent("onhashchange",this._onPathChange)),this},e.prototype._getPath=function(){var t;return t=window.location.href,0===t.indexOf(this._rootPath)&&(t=t.substr(this._rootPath.length)),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1")},e.prototype._parsePath=function(t){var e,n,r;return r=/^(?:#?!?\/*)([^?]*)\??(.*?)$/.exec(t),n=r[1],e=this._parseParams(r[2]),{rawPath:t,path:n,params:e}},e.prototype._parseParams=function(t){var e,n,r,i;if(i={},t)for(r=/&?([^=&]+)=?([^=&]*)/g,e=0;n=r.exec(t);)i[n[1]]=n[2];return i},e.prototype._onPathChange=function(){return this._currentPath=this._getPath(),this._trigger&&this._triggerPath(this._currentPath),this._trigger=!0,this._replaceData?(this.goto(this._replaceData[0],this._replaceData[1],!1),this._replaceData=null):this.trigger(e.CHANGE,this._parsePath(this._currentPath))},e.prototype._triggerPath=function(t){var n,r,i,o,s,a,u;if(r=this._parsePath(t),a=this._checkRoutes(r.path),s=a[0],o=a[1],s){for(n=s.length,u=[];n-->0;)i=s[n],"function"==typeof i.callback&&i.callback(i.route,o,t,r,i.data),u.push(this.trigger(e.ROUTE,{route:i.route,routeData:o,path:t,pathData:r,data:i.data}));return u}},e.prototype.setTitle=function(t){return document.title=t},e.prototype.getCurrentPath=function(){return this._currentPath},e.prototype.goto=function(t,e,n){return null==e&&(e=null),null==n&&(n=!0),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),e&&this.setTitle(e),t!==this._currentPath?(this._currentPath=t,this._trigger=n,this._usePushState?(history.pushState({},t,this._rootPath+t),this._trigger&&this._onPathChange(),this._trigger=!0):window.location.hash="!/"+t):void 0},e.prototype.replace=function(t,e,n){return null==e&&(e=null),null==n&&(n=!1),t=t.replace(/^(?:#?!?\/*)([^?]*\??.*?)$/,"$1"),e&&this.setTitle(e),t!==this._currentPath&&(this._currentPath=t,this._usePushState?history.replaceState({},t,this._rootPath+t):(this._trigger=!1,history.back(),this._replaceData=[t,e])),n?this.triggerPath(t):void 0},e.prototype.triggerPath=function(t){return this._triggerPath(t)},e.prototype.triggerCurrentPath=function(){return this._triggerPath(this._getPath())},e.prototype.addRoute=function(t,e,n){var r,i,o,s,a,u;for(null==n&&(n=null),a=/\{(.*?)\}/g,i=[],s=0;o=a.exec(t);)i[s++]=o[1];a=t,"*"===a&&(a=".*");try{a=a.replace(/(.*?)\/*$/,"$1"),u=new RegExp("(?:"+a.replace(/\{.*?\}/g,"(.+?)")+"$)","g")}catch(h){return void(r=h)}return this._routes[this._numRoutes++]={data:n,route:t,routeRE:u,labels:i,numLabels:i.length,numSlashes:t.split("/").length,callback:e},this._routes.sort(this._sortRoutes)},e.prototype.removeRoute=function(t,e){var n,r;for(n=this._numRoutes;n-->0;)r=this._routes[n],r.route===t&&(e?e===r.callback&&this._routes.splice(n,1):this._routes.splice(n,1));return this._numRoutes=this._routes.length},e.prototype.removeAllRoutes=function(){return this._routes.length=0,this._numRoutes=this._routes.length},e.prototype._checkRoutes=function(t){var e,n,r,i,o,s,a,u,h,l,p,c,_,d;for(r=this._numRoutes,t="/"+t,n=null,h=[],l=0,e=null;r-->0;){if(u=this._routes[r],n){if(u.route!==n)break;h[l++]=u}if(a=u.routeRE,a.lastIndex=0,s=a.exec(t))for(e={},h[l++]=u,n=u.route,d=u.labels,i=c=0,_=d.length;_>c;i=++c)o=d[i],p=s[i+1],e[o]=p}return[h,e]},e.prototype._sortRoutes=function(t,e){return t.numLabels<e.numLabels?-1:t.numLabels>e.numLabels?1:t.numSlashes<e.numSlashes?-1:t.numSlashes>e.numSlashes?1:t.route===e.route?0:t.route<e.route?-1:t.route>e.route?1:0},e}(EventDispatcher)),Function.prototype.get=function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(Object.defineProperty(this.prototype,e,{get:n,configurable:!0}));return r},Function.prototype.set=function(t){var e,n,r;r=[];for(e in t)n=t[e],r.push(Object.defineProperty(this.prototype,e,{set:n,configurable:!0}));return r},EventTarget.prototype.on=EventTarget.prototype.addEventListener,EventTarget.prototype.off=EventTarget.prototype.removeEventListener,Node.prototype.__appendChild__=Node.prototype.appendChild,Node.prototype.appendChild=function(t){var e;return e=t,t instanceof BaseDOM&&(e=t.element,t.parent=this),Node.prototype.__appendChild__.call(this,e)},Node.prototype.__removeChild__=Node.prototype.removeChild,Node.prototype.removeChild=function(t){var e;return e=t,t instanceof BaseDOM&&(e=t.element,t.parent=this),Node.prototype.__removeChild__.call(this,e)},Node.get({instance:function(){return this.__instance__}}),String.prototype.ltrim=function(t){var e;return null==t&&(t=null),t||(t="\\s"),t=t.replace(".","\\."),e=new RegExp("^"+t+"*"),e.global=!0,e.multiline=!0,this.replace(e,"")},String.prototype.rtrim=function(t){var e;return null==t&&(t=null),t||(t="\\s"),t=t.replace(".","\\."),e=new RegExp(t+"*$"),e.global=!0,e.multiline=!0,this.replace(e,"")},String.prototype.trim=function(t){return null==t&&(t=null),this.ltrim(t).rtrim(t)};var Event;Event=function(){function t(){}return t.ADDED_TO_STAGE="addedToStage",t.REMOVED_FROM_STAGE="removedFromStage",t}();var BaseDOM,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};BaseDOM=function(t){function e(t,e,n){null==t&&(t="div"),null==e&&(e=null),null==n&&(n=null),"string"==typeof t?n?(this._namespace=n,this._element=document.createElementNS(this._namespace,t)):this._element=document.createElement(t):t instanceof HTMLElement&&(this._element=t),e&&this.addClass(e),this._element.__instance__=this}return __extends(e,t),e.get({element:function(){return this._element}}),e.get({namespace:function(){return this._namespace}}),e.get({childNodes:function(){return this.element.childNodes}}),e.get({width:function(){return this.getBounds().width}}),e.get({height:function(){return this.getBounds().height}}),e.get({left:function(){return this.getBounds().left}}),e.get({top:function(){return this.getBounds().top}}),e.get({x:function(){return this.getBounds().left}}),e.get({y:function(){return this.getBounds().top}}),e.get({parent:function(){return this._parent}}),e.set({parent:function(t){if(!(t instanceof e||t instanceof Node))throw new Error("Parent instance is not either Node or BaseDOM");return this._parent=t}}),e.get({className:function(){return this.element.className}}),e.set({className:function(t){return this.element.className=t.trim()}}),e.get({text:function(){return this.element.innerText}}),e.set({text:function(t){return this.element.innerText=t}}),e.get({html:function(){return this.element.innerHTML}}),e.set({html:function(t){return this.element.innerHTML=t}}),e.prototype.appendChild=function(t){var n;return n=t,t instanceof e&&(n=t.element),this.appendChildAt(n)},e.prototype.appendChildAt=function(t,n){var r;return null==n&&(n=-1),r=t,t instanceof e&&(r=t.element),-1===n||n>=this.childNodes.length?this.element.appendChild(r):this.element.insertBefore(r,this.childNodes[n]),t instanceof e&&(t.parent=this),t},e.prototype.removeChild=function(t){try{return this.element.removeChild(t)}catch(e){}},e.prototype.removeChildAt=function(t){return null==t&&(t=-1),t<this.childNodes.length?this.element.removeChild(this.childNodes[i]):void 0},e.prototype.removeAll=function(){var t,e,n;for(t=this.childNodes,e=t.length,n=[];e-->0;)n.push(this.element.removeChild(t[e]));return n},e.prototype.find=function(t,e){var n;return null==e&&(e=!1),n=this.element.querySelector(t),e?null!=n?n.instance:void 0:n},e.prototype.findAll=function(t,e){var n,r,i,o,s;if(null==e&&(e=!1),n=this.element.querySelectorAll(t),e){for(r=[],i=-1,o=n.length,s=0;++i<o;)n[i].instance&&(r[s++]=n[i].instance);n=r}return n},e.prototype.attr=function(t,e,n){var r,i,o;if(null==e&&(e="nonenonenone"),null==n&&(n=!1),"string"==typeof t)return this._attr(t,e,n);if("object"==typeof t){o=[];for(r in t)i=t[r],o.push(this._attr(r,i,n));return o}},e.prototype._attr=function(t,e,n){return null==e&&(e="nonenonenone"),null==n&&(n=!1),n===!1&&(n=this.namespace),"nonenonenone"!==e&&(n?this.element.setAttributeNS(n,t,e):this.element.setAttribute(t,e)),n?this.element.getAttributeNS(n,t):this.element.getAttribute(t)},e.prototype._css=function(t,e){return null==e&&(e=null),null!==e&&(this.element.style[t]=e),this.element.style[t]},e.prototype.css=function(t,e){var n,r,i;if(null==e&&(e=null),"string"==typeof t)return this._css(t,e);if("object"==typeof t){i=[];for(n in t)r=t[n],i.push(this._css(n,r));return i}},e.prototype.addClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace("s+"," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace("s+"," ").split(" "),r=e.length,n=t.length;n-->0;)e.indexOf(t[n])>=0||(e[r++]=t[n]);return this.className=e.join(" ")},e.prototype.removeClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace("s+"," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace("s+"," ").split(" "),n=t.length;n-->0;)(r=e.indexOf(t[n]))>=0&&e.splice(r,1);return this.className=e.join(" ")},e.prototype.toggleClass=function(t,e){var n,r;if(null==e&&(e=null),null!==e)return void(e?this.addClass(t):this.removeClass(t));if("string"==typeof t)t=t.replace("s+"," ").split(" ");else if("Array"!=typeof t)return;for(n=t.length,r=[];n-->0;)r.push(this.hasClass(t[n])?this.removeClass(t[n]):this.addClass(t[n]));return r},e.prototype.hasClass=function(t){var e,n,r;if("string"==typeof t)t=t.replace("s+"," ").split(" ");else if("Array"!=typeof t)return;for(e=this.className.replace("s+"," ").split(" "),r=t.length,n=!0;r-->0;)n&=e.indexOf(t[r])>=0;return n},e.prototype.getBounds=function(t){var n,r,i,o,s;null==t&&(t=null),r={},n=this.element.getBoundingClientRect();for(i in n)s=n[i],r[i]=s;return t&&(t instanceof e?o=t.getBounds():t instanceof HTMLElement&&(o=t.getBoundingClientRect())),o&&(r.top-=o.top,r.left-=o.left,r.bottom-=o.top,r.right-=o.left),r.width=r.right-r.left,r.height=r.bottom-r.top,r},e}(EventDispatcher);var API,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};API=function(_super){function API(t,e,n,r){this.url=t,this.params=null!=e?e:null,this.method=null!=n?n:"POST",this.type=null!=r?r:"json",this._loaded=__bind(this._loaded,this),this.reuse=!1}return __extends(API,_super),API.COMPLETE="apiComplete",API.ERROR="apiError",API.ROOT_PATH="",API._request=function(){return window.XMLHttpRequest?new window.XMLHttpRequest:window.ActiveXObject?new window.ActiveXObject("MSXML2.XMLHTTP.3.0"):void 0},API.call=function(t,e,n,r,i){var o;return null==e&&(e=null),null==n&&(n=null),null==r&&(r=null),null==i&&(i="json"),arguments.length<1||!t?void 0:(null!=(null!=e?e.onComplete:void 0)&&2===arguments.length&&(n=null!=e?e.onComplete:void 0,r=null!=e?e.onError:void 0,i=null!=e?e.type:void 0,e=null!=e?e.params:void 0),o=new API(API.ROOT_PATH+t,e,"POST",i),n&&o.on(this.COMPLETE,n),r&&o.on(this.ERROR,r),o.load(),o)},API.prototype.load=function(){var t,e,n,r,i,o;if(n=this.url,this.params instanceof("undefined"!=typeof window&&null!==window?window.FormData:void 0))this.method="POST",t=this.params;else if("POST"===this.method){t="undefined"!=typeof window&&null!==window?new window.FormData:void 0,i=this.params;for(e in i)r=i[e],t.append(e,r)}else{t=[],o=this.params;for(e in o)r=o[e],t.push(e+"="+r)}return this.req=API._request(),this.req.onreadystatechange=this._loaded,this.req.open(this.method,this.url,!0),this.req.send(t)},API.prototype.cancel=function(){return this.req&&(this.req.onreadystatechange=null,this.req.abort()),this.reuse?void 0:this.off()},API.prototype._loaded=function(e){var data,err;if(4===e.currentTarget.readyState){if(200===e.currentTarget.status||0===e.currentTarget.status)try{data=e.currentTarget.responseText,"function"==typeof this.type?data=this.type(data):"json"===this.type&&(data=eval("("+e.currentTarget.responseText+")")),this.trigger(API.COMPLETE,data)}catch(_error){err=_error,console.log(err),this.trigger(API.ERROR)}else this.trigger(API.ERROR);if(!this.reuse)return this.off()}},API}(EventDispatcher);var Header,__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Header=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.addClass("header")}return __extends(e,t),e}(BaseDOM);var MenuItem,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};MenuItem=function(t){function e(t){var n,r,i,o,s,a;if(this.data=t,this._click=__bind(this._click,this),e.__super__.constructor.call(this,"li","menu-item"),this.data.isPackage){if(this.addClass("package"),r=new BaseDOM("span"),this.data.items)for(this._submenuContainer=new BaseDOM("ul"),this.appendChild(this._submenuContainer),a=this.data.items,o=0,s=a.length;s>o;o++)n=a[o],i=new e(n),this._submenuContainer.appendChild(i)}else r=new BaseDOM("a"),r.element.on("click",this._click);r.text=this.data.name,this.appendChildAt(r,0)}return __extends(e,t),e.prototype._click=function(){return app.trigger(Client.UPDATE_ROUTE,{"class":this.data.classPath,index:this.data.index})},e}(BaseDOM);var Menu,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Menu=function(t){function e(){this._showIndex=__bind(this._showIndex,this),this._selectorClick=__bind(this._selectorClick,this),this._routeChanged=__bind(this._routeChanged,this),e.__super__.constructor.apply(this,arguments),this._showAs=null,this.addClass("menu"),this._build()}return __extends(e,t),e.prototype._build=function(){var t;return this._selector=new BaseDOM("ul","selector"),this._selectorItems=[],t=new BaseDOM("li"),t.text="Index",t.element.on("click",this._showIndex),this._selectorItems.push(t),this._selector.appendChild(t),t=new BaseDOM("li"),t.html="&nbsp",this._selectorItems.push(t),this._selector.appendChild(t),t=new BaseDOM("li"),t.text="Packages",t.type="package",t.element.on("click",this._selectorClick),this._selectorItems.push(t),this._selector.appendChild(t),t=new BaseDOM("li"),t.text="Classes",t.type="class",t.element.on("click",this._selectorClick),this._selectorItems.push(t),this._selector.appendChild(t),this.appendChild(this._selector),this._menuContainer=new BaseDOM("ul","menu-container"),this.appendChild(this._menuContainer),app.on(Client.ROUTE_CHANGED,this._routeChanged)},e.prototype._routeChanged=function(t,e){var n,r,i;return i="package",e.show?i=e.show:this._showAs&&(i=this._showAs),this.showAs(i),n=0,r=null,e.index&&(n=Number(e.index)||0),e["class"]&&(r=e["class"]),this._selectMenuItem(r,n)},e.prototype._selectMenuItem=function(t,e){var n,r,i,o;for(i=this.findAll(".menu-item",!0),o=null,n=i.length;n-->0;)r=i[n],r.data.isPackage||(r.data.classPath===t&&r.data.index===e?(r.addClass("selected"),o=r.data):r.removeClass("selected"));return o||(o=app.data.index),app.trigger(RonoveEvent.ITEM_SELECTED,o)},e.prototype.showAs=function(t){var e,n,r;for(e=this._selectorItems.length,r=null;e-->0;)n=this._selectorItems[e],n.type===t?(r=n.type,n.toggleClass("selected",!0)):n.toggleClass("selected",!1);return r&&this._showAs!==r?(this._showAs=r,this._parseContent()):void 0},e.prototype.setItems=function(t){return this._items=t,this._parseContent()},e.prototype._parseContent=function(){var t,e,n,r,i,o,s,a,u;if(this._items&&this._showAs){for(this._menuContainer.removeAll(),i=[],a=this._items,o=0,s=a.length;s>o;o++)switch(e=a[o],this._showAs){case"class":i.push(e);break;case"package":this._insertIntoPackage(i,e,e["package"]||"")}for(i.sort(this._sortClasses),n=i.length,t=-1,u=[];++t<n;)e=i[t],r=new MenuItem(e),u.push(this._menuContainer.appendChild(r));return u}},e.prototype._sortClasses=function(t,e){if(null!=t.isPackage!=(null!=e.isPackage)){if(t.isPackage)return-1;if(e.isPackage)return 1}return t.name>e.name?1:t.name<e.name?-1:0},e.prototype._insertIntoPackage=function(t,e,n){var r,i,o;if(o=n.trim(".").split("."),0===o.length||0===n.trim().length)return t.push(e);for(r=t.length,i=null;r-->0;)if(t[r].isPackage&&t[r].name===o[0]){i=t[r];break}return i||(i={name:o[0],isPackage:!0,items:[]},t.push(i)),this._insertIntoPackage(i.items,e,o.slice(1).join("."))},e.prototype._selectorClick=function(t){return app.trigger(Client.UPDATE_ROUTE,{show:t.currentTarget.instance.type})},e.prototype._showIndex=function(){return app.trigger(Client.UPDATE_ROUTE,{show:null,"class":null,index:null})},e}(BaseDOM);var Preview,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Preview=function(t){function e(){this._itemSelected=__bind(this._itemSelected,this),e.__super__.constructor.apply(this,arguments),this.addClass("preview"),app.on(RonoveEvent.ITEM_SELECTED,this._itemSelected)}return __extends(e,t),e.prototype._itemSelected=function(t,e){return this.removeAll(),this._parseData(e)},e.prototype._parseData=function(t){var e,n,r,i,o,s,a,u;if(t){if("string"==typeof t)e=t;else{if(e="",e+=this._parseContent(t,"h1"),t.statics&&t.statics.length>0)for(e+="<hr><h2>Statics</h2>",a=t.methods,r=0,o=a.length;o>r;r++)n=a[r],e+=this._parseContent(n),e+="<hr>";if(t.methods&&t.methods.length>0)for(e+="<hr><h2>Methods</h2>",u=t.methods,i=0,s=u.length;s>i;i++)n=u[i],e+=this._parseContent(n),e+="<hr>"}return this.html=e}},e.prototype._parseContent=function(t,e){var n,r,i,o,s,a,u,h,l,p,c;if(null==e&&(e="h2"),i="",t.name&&(i+="<"+e+">"+t.name+"</"+e+">"),t["package"]&&(i+="<b>Package</b>: "+t["package"]+"<br>"),t.content)for(p=t.content,a=0,h=p.length;h>a;a++){switch(n=p[a],o=null,s=null,n.type.toLowerCase()){case"example":case"code":o="Example";break;case"seealso":o="See also";break;case"params":o="Parameters";break;case"return":case"return":o="Returns"}for(o&&(i+="<h4>"+o+"</h4>"),i+="<p>",c=n.items,u=0,l=c.length;l>u;u++)r=c[u],r.code?(s="code",r.text=r.text.replace(/\t/g,"  ")):s=null,r.name&&(i+="<b>"+r.name+"</b>: "),s&&(i+="<"+s+">"),i+=r.text,s&&(i+="</"+s+">"),i+="<br>";i+="</p>"}return i},e}(BaseDOM);var RonoveEvent;RonoveEvent=function(){function t(){}return t.ITEM_SELECTED="itemSelected",t}();var Client,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Client=function(t){function e(){this._updateRoute=__bind(this._updateRoute,this),this._routeChanged=__bind(this._routeChanged,this),this._contentLoaded=__bind(this._contentLoaded,this),e.__super__.constructor.apply(this,arguments),this._loadContent()}return __extends(e,t),e.UPDATE_ROUTE="updateRoute",e.ROUTE_CHANGED="routeChanged",e.init=function(){return new e(document.body)},e.prototype._loadContent=function(){return API.call("data/content.json",null,this._contentLoaded)},e.prototype._contentLoaded=function(t,e){return this._data=e,app.data=e,this._build()},e.prototype._build=function(){return this._container=new BaseDOM("div","wrapper"),this.appendChild(this._container),this._header=new Header,this._container.appendChild(this._header),this._menu=new Menu,this._menu.setItems(this._data.content),this._container.appendChild(this._menu),this._preview=new Preview,this._container.appendChild(this._preview),this._initNavigation()},e.prototype._initNavigation=function(){return this._router=Router.getInstance(),this._router.init(null,!0),this._router.addRoute("*",this._routeChanged),this._router.triggerCurrentPath(),app.on(e.UPDATE_ROUTE,this._updateRoute)},e.prototype._routeChanged=function(t,n,r){var i,o,s;for(s=/([^\=\&]+)=([^\=\&]+)(\&|$)/g,o={};i=s.exec(r);)o[i[1]]=i[2];return app.routeParams=o,app.trigger(e.ROUTE_CHANGED,app.routeParams)},e.prototype._updateRoute=function(t,e){var n,r,i,o;i=app.routeParams;for(n in e)o=e[n],i[n]=o;r=[];for(n in i)o=i[n],null===o||o.length<0?(i[n]=null,delete i[n]):r.push(n+"="+o);return this._router.goto(r.join("&"))},e}(BaseDOM),window.addEventListener?window.addEventListener("load",Client.init):window.attachEvent?window.attachEvent("onload",Client.init):window.onload=Client.init}).call(this);